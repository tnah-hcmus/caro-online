(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{AzrZ:function(e,t,a){var n=a("LboF"),r=a("ettg");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);e.exports=r.locals||{}},WJG9:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),o=a("i8i4"),l=a.n(o),i=(a("AzrZ"),a("55Ip")),c=a("Ty5D"),s=a("/MKj"),u=a("J4zp"),m=a.n(u),p=a("469l"),d=a("5CWz"),g=a("kKAo"),f=a("tRbT"),h=a("w4+p"),b=a.n(h),E=a("R/WZ"),v=a("Z3vd"),y=a("r9w1"),w=a("hlie"),O=a("hlFM"),j=a("ofer"),k=function(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright © ",r.a.createElement(w.a,{color:"inherit",href:"https://material-ui.com/"},"My Website")," ",(new Date).getFullYear(),".")},x=a("pVnL"),S=a.n(x),N=a("79Xs"),I=a("ZiQX");function W(e){return r.a.createElement(I.a,S()({elevation:6,variant:"filled"},e))}var L=Object(E.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function P(e){var t=L(),a=r.a.useState(!1),o=m()(a,2),l=o[0],i=o[1];Object(n.useEffect)((function(){e.message&&i(e.message.open)}),[e.message]);var c=function(e,t){"clickaway"!==t&&i(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,{open:l,autoHideDuration:6e3,onClose:c},r.a.createElement(W,{onClose:c,severity:e.message?e.message.type:"success"},e.message?e.message.content:"loading...")))}var G=a("uJt2"),_=a.n(G),D=Object(E.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(1.2,0),minHeight:40}}})),C=function(e){var t=D(),a=Object(n.useState)("#"),o=m()(a,2),l=o[0],i=o[1],c=Object(n.useState)(null),s=m()(c,2),u=s[0],p=s[1];Object(n.useEffect)((function(){e.getGoogleUrl().then((function(e){return i(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,onSubmit:function(t){t.preventDefault();var a=t.target.elements.fname.value.trim()+" "+t.target.elements.lname.value.trim(),n=t.target.elements.password.value.trim(),r=t.target.elements.email.value.trim();e.signup({email:r,password:n,name:a},p)},noValidate:!0},r.a.createElement(f.a,{container:!0,spacing:2},r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{autoComplete:"fname",name:"fname",variant:"outlined",required:!0,fullWidth:!0,id:"fName",label:"First Name",autoFocus:!0})),r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lname",label:"Last Name",name:"lname",autoComplete:"lname"})),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"),r.a.createElement(v.a,{href:l,startIcon:r.a.createElement("img",{width:"20px",style:{marginBottom:3,marginRight:5},alt:"Google sign-in",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"}),fullWidth:!0,variant:"contained",color:"default",className:t.submit},"Log In With Google"),r.a.createElement(v.a,{href:e.facebookUrl,startIcon:r.a.createElement(_.a,{color:"primary",style:{fontSize:28}}),fullWidth:!0,variant:"contained",color:"default",className:t.submit},"Log In With Facebook"),r.a.createElement(P,{message:u}),r.a.createElement(f.a,{container:!0,justify:"flex-end"},r.a.createElement(f.a,{item:!0},r.a.createElement(w.a,{onClick:function(){return e.toLogin()},variant:"body2"},"Already have an account? Sign in"))),r.a.createElement(O.a,{mt:5},r.a.createElement(k,null))))},F=a("ZGBi"),U=a("VmPI"),q=Object(E.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(1.2,0),minHeight:40}}})),A=function(e){var t=q(),a=Object(n.useState)("#"),o=m()(a,2),l=o[0],i=o[1],c=Object(n.useState)(null),s=m()(c,2),u=s[0],p=s[1];Object(n.useEffect)((function(){e.getGoogleUrl().then((function(e){return i(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{component:"h1",variant:"h5"},"Log in"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a=t.target.elements.email.value,n=t.target.elements.password.value;e.login(a,n,p)}},r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(F.a,{control:r.a.createElement(U.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Log In"),r.a.createElement(v.a,{href:l,startIcon:r.a.createElement("img",{width:"20px",style:{marginBottom:3,marginRight:5},alt:"Google sign-in",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"}),fullWidth:!0,variant:"contained",color:"default",className:t.submit},"Log In With Google"),r.a.createElement(v.a,{href:e.facebookUrl,startIcon:r.a.createElement(_.a,{color:"primary",style:{fontSize:28}}),fullWidth:!0,variant:"contained",color:"default",className:t.submit},"Log In With Facebook"),r.a.createElement(P,{message:u}),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:!0},r.a.createElement(w.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(f.a,{item:!0},r.a.createElement(w.a,{onClick:function(){return e.toSignUp()},variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(O.a,{mt:5},r.a.createElement(k,null))))},T=a("lSNA"),z=a.n(T),J=a("vDqi"),M=a.n(J),R=a("cr+I");function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var V,Z=function(e,t){return{type:"login",payload:{id:e,token:t}}},B=function(){return M.a.get("/google/url").then((function(e){return e.data})).catch((function(e){console.log(e)}))},K=(V=R.stringify({client_id:"601715547260365",redirect_uri:"https://caro-online-1712039-1712121.herokuapp.com/auth/facebook",scope:"email",response_type:"code",auth_type:"rerequest",display:"popup"}),"https://www.facebook.com/v8.0/dialog/oauth?".concat(V)),Q=Object(E.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:"20px 35px",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),X={startLogin:function(e,t,a){return function(n,r){M.a.post("/api/login",{email:e,password:t}).then((function(e){var t=e.data,r=t.user,o=t.token;n(Z(r._id,o)),a({type:"success",content:"Login Successfully !!!",open:!0})})).catch((function(e){console.log(e);var t=e.response&&e.response.data&&e.response.data.error;a({type:"error",content:"".concat(t||e.response.statusText),open:!0})}))}},startSignUp:function(e,t){return function(a,n){M.a.post("/api/users",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)).then((function(e){var n=e.data,r=n.user,o=n.token;a(Z(r._id,o)),t({type:"success",content:"Signup Successfully !!!",open:!0})})).catch((function(e){var a=e.response&&e.response.data&&e.response.data.error;t({type:"error",content:"".concat(a||e.response.statusText),open:!0})}))}}},Y=Object(s.b)(null,X)((function(e){var t=Q(),a=Object(n.useState)(!0),o=m()(a,2),l=o[0],i=o[1];return r.a.createElement(f.a,{container:!0,component:"main",className:t.root},r.a.createElement(d.a,null),r.a.createElement(f.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(f.a,{item:!0,xs:12,sm:8,md:5,component:g.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(p.a,{className:t.avatar},r.a.createElement(b.a,null)),l?r.a.createElement(A,{facebookUrl:K,login:e.startLogin,getGoogleUrl:B,toSignUp:function(){return i(!1)}}):r.a.createElement(C,{facebookUrl:K,signup:e.startSignUp,getGoogleUrl:B,toLogin:function(){return i(!0)}}))))})),$=a("+Isj"),ee=a("iae6"),te=Object(E.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ae={loginThirdParty:function(e,t,a){return function(n,r){M.a.post("/api/login".concat(e),{code:t}).then((function(e){var t=e.data,r=t.user,o=t.token;n(Z(r._id,o)),a.push("/")})).catch((function(e){console.log(e.response)}))}}},ne=Object(s.b)(null,ae)(Object(c.g)((function(e){var t=te();return Object(n.useEffect)((function(){var t=R.parse(e.location.search),a=e.location.pathname.includes("google")?"Google":"Facebook";t.error?e.history.push("/"):e.loginThirdParty(a,t.code,e.history)})),r.a.createElement("div",null,r.a.createElement($.a,{className:t.backdrop,open:!0},r.a.createElement(ee.a,{color:"inherit"})))}))),re=a("kfFl"),oe=a("EQI2"),le=a("38fH"),ie=a.n(le),ce=Object(E.a)((function(e){return{root:{width:600,height:"auto"},dialog:{"& > *":{margin:"10px 0"}},form:{display:"flex",flexDirection:"column"},textFiled:{width:320,margin:"10px auto"},button:{width:"50%",margin:"10px auto"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),se={startLoginAdmin:function(e,t,a){return function(n,r){M.a.post("/api/admin/login",{email:e,password:t}).then((function(e){var t=e.data,r=t.user,o=t.token;n(Z(r._id,o)),a({type:"success",content:"Login Successfully !!!",open:!0})})).catch((function(e){console.log(e);var t=e.response&&e.response.data&&e.response.data.error;a({type:"error",content:"".concat(t||e.response.statusText),open:!0})}))}}},ue=Object(s.b)(null,se)((function(e){var t=ce(),a=Object(n.useState)(null),o=m()(a,2),l=o[0],i=o[1];return r.a.createElement("div",null,r.a.createElement(f.a,{container:!0,style:{minHeight:"100vh"}},r.a.createElement(re.a,{open:!0,onClose:function(){return!1},maxWidth:"lg"},r.a.createElement(oe.a,null,r.a.createElement(f.a,{container:!0,direction:"column",alignItems:"center",className:t.dialog},r.a.createElement(p.a,{className:t.avatar},r.a.createElement(ie.a,null)),r.a.createElement(j.a,{variant:"h5",color:"initial"},"WELCOME"),r.a.createElement(j.a,{variant:"body2",color:"initial"},"PLEASE LOGIN TO ADMIN DASHBOARD"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a=t.target.elements.email.value,n=t.target.elements.password.value;e.startLoginAdmin(a,n,i)}},r.a.createElement(y.a,{id:"email",autoComplete:"email",fullWidth:!0,margin:"normal",required:!0,label:"Email",variant:"outlined",className:t.textFiled}),r.a.createElement(y.a,{id:"password",autoComplete:"password",fullWidth:!0,margin:"normal",required:!0,label:"Password",variant:"outlined",type:"password",className:t.textFiled}),r.a.createElement(v.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Log In"))),r.a.createElement(f.a,{container:!0,justify:"center"},r.a.createElement(w.a,{href:"#",variant:"body2"},"Forgot password?"))))),r.a.createElement(P,{message:l}))})),me=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header__title"},e.title),e.subtitle&&r.a.createElement("h2",{className:"header__subtitle"},r.a.createElement(i.b,{to:"/"},e.subtitle))))};me.defaultProps={title:"Không tìm thấy trang cần tìm",subtitle:"Quay lại trang chủ"};var pe=r.a.memo(me),de=a("lwsE"),ge=a.n(de),fe=a("W8MJ"),he=a.n(fe),be=a("jifJ"),Ee=a.n(be),ve=new(function(){function e(){ge()(this,e),this.socket=null}return he()(e,[{key:"connect",value:function(e){this.socket=Ee.a.connect("localhost:3000",{query:"userId="+e,secure:!0})}},{key:"startListenUpdateUser",value:function(e){this.socket.on("update-user",(function(t){e(t)}))}},{key:"shutdownWS",value:function(){this.socket.emit("send-disconnect-request"),this.socket=null}}]),e}()),ye=Object(s.b)((function(e){return{userId:e.auth.id}}))((function(e){var t=Object(n.useState)(0),a=m()(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){return ve.connect(e.userId),ve.startListenUpdateUser(l),function(){ve.shutdownWS()}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Tổng cộng: ",o," đang online"),r.a.createElement(k,null))})),we=Object(s.b)((function(e){return{isAuthenticated:!!e.auth.token}}))((function(e){return console.log("test",e.isAuthenticated),e.isAuthenticated?r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",component:ye,exact:!0}),r.a.createElement(c.b,{path:"/404",component:pe}),r.a.createElement(c.a,{to:"/404"})):r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",component:Y,exact:!0}),r.a.createElement(c.b,{path:"/admin",component:ue}),r.a.createElement(c.b,{path:"/auth/google",component:ne}),r.a.createElement(c.b,{path:"/auth/facebook",component:ne}),r.a.createElement(c.b,{path:"/404",component:pe}),r.a.createElement(c.a,{to:"/404"}))})),Oe=a("ANjH"),je=a("sINF");function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se=a("SVmU"),Ne=a("oAJy"),Ie=a.n(Ne),We=Object(Oe.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login":return xe({},t.payload);case"logout":return{};default:return e}}}),Le={key:"root",whitelist:[],blacklist:["auth"],storage:Ie.a.createInstance({name:"RVN-data"})},Pe=Object(Se.a)(Le,We),Ge=Object(Oe.d)(Pe,{},Object(Oe.a)(je.a)),_e=Object(Se.b)(Ge),De=a("KMx9"),Ce=function(){return r.a.createElement(s.a,{store:Ge},r.a.createElement(De.a,{loading:null,persistor:_e},r.a.createElement(i.a,null,r.a.createElement(we,null))))};l.a.render(r.a.createElement(Ce,null),document.getElementById("root"))},ettg:function(e,t,a){(t=a("JPst")(!1)).push([e.i,'body {\r\n    font: 14px "Century Gothic", Futura, sans-serif;\r\n    margin: 20px;\r\n  }\r\n  \r\n  ol, ul {\r\n    padding-left: 30px;\r\n  }\r\n  \r\n  .board-row:after {\r\n    clear: both;\r\n    content: "";\r\n    display: table;\r\n  }\r\n  \r\n  .status {\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .square {\r\n    background: #fff;\r\n    border: 1px solid #999;\r\n    float: left;\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    line-height: 34px;\r\n    height: 34px;\r\n    margin-right: -1px;\r\n    margin-top: -1px;\r\n    padding: 0;\r\n    text-align: center;\r\n    width: 34px;\r\n  }\r\n  .square-winning {\r\n    border: 3px solid red;\r\n  }\r\n  \r\n  .square:focus {\r\n    outline: none;\r\n  }\r\n  \r\n  .kbd-navigation .square:focus {\r\n    background: #ddd;\r\n  }\r\n  \r\n  .game {\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n  \r\n  .game-info {\r\n    margin-left: 20px;\r\n  }\r\n  ',""]),e.exports=t}},[["WJG9",12,6,1,8,3,10,11,9,7,2,4,5,13]]]);