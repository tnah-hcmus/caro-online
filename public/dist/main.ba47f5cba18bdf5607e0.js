(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{AzrZ:function(module,exports,__webpack_require__){eval('var api = __webpack_require__("LboF");\n            var content = __webpack_require__("ettg");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === \'string\') {\n              content = [[module.i, content, \'\']];\n            }\n\nvar options = {};\n\noptions.insert = "head";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXpyWi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NsaWVudC9zdHlsZXMvc3R5bGVzLmNzcz82MWIzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///AzrZ\n')},WJG9:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__("i8i4");\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./client/styles/styles.css\nvar styles = __webpack_require__("AzrZ");\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__("55Ip");\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__("Ty5D");\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__("/MKj");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__("J4zp");\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__("469l");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CssBaseline/CssBaseline.js\nvar CssBaseline = __webpack_require__("5CWz");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__("kKAo");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__("tRbT");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/LockOutlined.js\nvar LockOutlined = __webpack_require__("w4+p");\nvar LockOutlined_default = /*#__PURE__*/__webpack_require__.n(LockOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__("R/WZ");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__("Z3vd");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 19 modules\nvar TextField = __webpack_require__("r9w1");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Link/Link.js\nvar Link = __webpack_require__("hlie");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Box/Box.js + 14 modules\nvar Box = __webpack_require__("hlFM");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__("ofer");\n\n// CONCATENATED MODULE: ./client/components/common/Copyright.js\n\n\n\n\nvar useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      backgroundColor: "#d2d2d2",\n      padding: "15px",\n      bottom: "0"\n    }\n  };\n});\n\nvar Copyright_Copyright = function Copyright() {\n  var classes = useStyles();\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "body2",\n    color: "textSecondary",\n    align: "center"\n  }, "Copyright Â© ", /*#__PURE__*/react_default.a.createElement(Link["a" /* default */], {\n    color: "inherit",\n    href: "https://material-ui.com/"\n  }, "My Website"), " ", new Date().getFullYear(), "."));\n};\n\n/* harmony default export */ var common_Copyright = (Copyright_Copyright);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__("pVnL");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js + 1 modules\nvar Snackbar = __webpack_require__("79Xs");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Alert/Alert.js + 5 modules\nvar Alert = __webpack_require__("ZiQX");\n\n// CONCATENATED MODULE: ./client/components/common/CustomizedSnackbars.js\n\n\n\n\n\n\n\nfunction CustomizedSnackbars_Alert(props) {\n  return /*#__PURE__*/react_default.a.createElement(Alert["a" /* default */], extends_default()({\n    elevation: 6,\n    variant: "filled"\n  }, props));\n}\n\nvar CustomizedSnackbars_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {\n      width: "100%",\n      "& > * + *": {\n        marginTop: theme.spacing(2)\n      }\n    }\n  };\n});\nfunction CustomizedSnackbars(props) {\n  var classes = CustomizedSnackbars_useStyles();\n\n  var _React$useState = react_default.a.useState(false),\n      _React$useState2 = slicedToArray_default()(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  Object(react["useEffect"])(function () {\n    if (props.message) {\n      setOpen(props.message.open);\n    }\n  }, [props.message]);\n\n  var handleClose = function handleClose(event, reason) {\n    if (reason === "clickaway") {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(Snackbar["a" /* default */], {\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose\n  }, /*#__PURE__*/react_default.a.createElement(CustomizedSnackbars_Alert, {\n    onClose: handleClose,\n    severity: props.message ? props.message.type : "success"\n  }, props.message ? props.message.content : "loading...")));\n}\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Facebook.js\nvar Facebook = __webpack_require__("uJt2");\nvar Facebook_default = /*#__PURE__*/__webpack_require__.n(Facebook);\n\n// CONCATENATED MODULE: ./client/components/starting/SignUpPanel.js\n\n\n\n\n\n\n\n\n\n\n\n\nvar SignUpPanel_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    form: {\n      width: "100%",\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(3)\n    },\n    submit: {\n      margin: theme.spacing(1.2, 0),\n      minHeight: 40\n    }\n  };\n});\n\nvar SignUpPanel_SignUpPanel = function SignUpPanel(props) {\n  var classes = SignUpPanel_useStyles();\n\n  var _useState = Object(react["useState"])("#"),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      googleUrl = _useState2[0],\n      setGoogleUrl = _useState2[1];\n\n  var _useState3 = Object(react["useState"])(null),\n      _useState4 = slicedToArray_default()(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  Object(react["useEffect"])(function () {\n    props.getGoogleUrl().then(function (url) {\n      return setGoogleUrl(url);\n    });\n  }, []);\n\n  var handleSubmitSignUp = function handleSubmitSignUp(e) {\n    e.preventDefault();\n    var name = e.target.elements.fname.value.trim() + " " + e.target.elements.lname.value.trim();\n    var password = e.target.elements.password.value.trim();\n    var email = e.target.elements.email.value.trim();\n    props.signup({\n      email: email,\n      password: password,\n      name: name\n    }, setMessage);\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    component: "h1",\n    variant: "h5"\n  }, "Sign up"), /*#__PURE__*/react_default.a.createElement("form", {\n    className: classes.form,\n    onSubmit: handleSubmitSignUp,\n    noValidate: true\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    spacing: 2\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    sm: 6\n  }, /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    autoComplete: "fname",\n    name: "fname",\n    variant: "outlined",\n    required: true,\n    fullWidth: true,\n    id: "fName",\n    label: "First Name",\n    autoFocus: true\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    sm: 6\n  }, /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    variant: "outlined",\n    required: true,\n    fullWidth: true,\n    id: "lname",\n    label: "Last Name",\n    name: "lname",\n    autoComplete: "lname"\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    variant: "outlined",\n    required: true,\n    fullWidth: true,\n    id: "email",\n    label: "Email Address",\n    name: "email",\n    autoComplete: "email"\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    variant: "outlined",\n    required: true,\n    fullWidth: true,\n    name: "password",\n    label: "Password",\n    type: "password",\n    id: "password",\n    autoComplete: "current-password"\n  }))), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    type: "submit",\n    fullWidth: true,\n    variant: "contained",\n    color: "primary",\n    className: classes.submit\n  }, "Sign Up"), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    href: googleUrl,\n    startIcon: /*#__PURE__*/react_default.a.createElement("img", {\n      width: "20px",\n      style: {\n        marginBottom: 3,\n        marginRight: 5\n      },\n      alt: "Google sign-in",\n      src: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"\n    }),\n    fullWidth: true,\n    variant: "contained",\n    color: "default",\n    className: classes.submit\n  }, "Log In With Google"), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    href: props.facebookUrl,\n    startIcon: /*#__PURE__*/react_default.a.createElement(Facebook_default.a, {\n      color: "primary",\n      style: {\n        fontSize: 28\n      }\n    }),\n    fullWidth: true,\n    variant: "contained",\n    color: "default",\n    className: classes.submit\n  }, "Log In With Facebook"), /*#__PURE__*/react_default.a.createElement(CustomizedSnackbars, {\n    message: message\n  }), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    justify: "flex-end"\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true\n  }, /*#__PURE__*/react_default.a.createElement(Link["a" /* default */], {\n    onClick: function onClick() {\n      return props.toLogin();\n    },\n    variant: "body2"\n  }, "Already have an account? Sign in"))), /*#__PURE__*/react_default.a.createElement(Box["a" /* default */], {\n    mt: 5\n  }, /*#__PURE__*/react_default.a.createElement(common_Copyright, null))));\n};\n\n/* harmony default export */ var starting_SignUpPanel = (SignUpPanel_SignUpPanel);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js\nvar FormControlLabel = __webpack_require__("ZGBi");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js + 4 modules\nvar Checkbox = __webpack_require__("VmPI");\n\n// CONCATENATED MODULE: ./client/components/starting/LoginPanel.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar LoginPanel_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    form: {\n      width: "100%",\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(1.2, 0),\n      minHeight: 40\n    }\n  };\n});\n\nvar LoginPanel_LoginPanel = function LoginPanel(props) {\n  var classes = LoginPanel_useStyles();\n\n  var _useState = Object(react["useState"])("#"),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      googleUrl = _useState2[0],\n      setGoogleUrl = _useState2[1];\n\n  var _useState3 = Object(react["useState"])(null),\n      _useState4 = slicedToArray_default()(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  Object(react["useEffect"])(function () {\n    props.getGoogleUrl().then(function (url) {\n      return setGoogleUrl(url);\n    });\n  }, []);\n\n  var handleSubmitLogin = function handleSubmitLogin(e) {\n    e.preventDefault();\n    var email = e.target.elements.email.value;\n    var password = e.target.elements.password.value;\n    props.login(email, password, setMessage);\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    component: "h1",\n    variant: "h5"\n  }, "Log in"), /*#__PURE__*/react_default.a.createElement("form", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: handleSubmitLogin\n  }, /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    variant: "outlined",\n    margin: "normal",\n    required: true,\n    fullWidth: true,\n    id: "email",\n    label: "Email Address",\n    name: "email",\n    autoComplete: "email",\n    autoFocus: true\n  }), /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    variant: "outlined",\n    margin: "normal",\n    required: true,\n    fullWidth: true,\n    name: "password",\n    label: "Password",\n    type: "password",\n    id: "password",\n    autoComplete: "current-password"\n  }), /*#__PURE__*/react_default.a.createElement(FormControlLabel["a" /* default */], {\n    control: /*#__PURE__*/react_default.a.createElement(Checkbox["a" /* default */], {\n      value: "remember",\n      color: "primary"\n    }),\n    label: "Remember me"\n  }), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    type: "submit",\n    fullWidth: true,\n    variant: "contained",\n    color: "primary",\n    className: classes.submit\n  }, "Log In"), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    href: googleUrl,\n    startIcon: /*#__PURE__*/react_default.a.createElement("img", {\n      width: "20px",\n      style: {\n        marginBottom: 3,\n        marginRight: 5\n      },\n      alt: "Google sign-in",\n      src: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"\n    }),\n    fullWidth: true,\n    variant: "contained",\n    color: "default",\n    className: classes.submit\n  }, "Log In With Google"), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    href: props.facebookUrl,\n    startIcon: /*#__PURE__*/react_default.a.createElement(Facebook_default.a, {\n      color: "primary",\n      style: {\n        fontSize: 28\n      }\n    }),\n    fullWidth: true,\n    variant: "contained",\n    color: "default",\n    className: classes.submit\n  }, "Log In With Facebook"), /*#__PURE__*/react_default.a.createElement(CustomizedSnackbars, {\n    message: message\n  }), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: true\n  }, /*#__PURE__*/react_default.a.createElement(Link["a" /* default */], {\n    href: "#",\n    variant: "body2"\n  }, "Forgot password?")), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true\n  }, /*#__PURE__*/react_default.a.createElement(Link["a" /* default */], {\n    onClick: function onClick() {\n      return props.toSignUp();\n    },\n    variant: "body2"\n  }, "Don\'t have an account? Sign Up"))), /*#__PURE__*/react_default.a.createElement(Box["a" /* default */], {\n    mt: 5\n  }, /*#__PURE__*/react_default.a.createElement(common_Copyright, null))));\n};\n\n/* harmony default export */ var starting_LoginPanel = (LoginPanel_LoginPanel);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/defineProperty.js\nvar defineProperty = __webpack_require__("lSNA");\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);\n\n// CONCATENATED MODULE: ./client/action/auth/type.js\nvar LOGIN = "login";\nvar LOGOUT = "logout";\nvar JOIN = "join";\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__("vDqi");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/query-string/index.js\nvar query_string = __webpack_require__("cr+I");\n\n// CONCATENATED MODULE: ./client/action/auth/auth.js\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar auth_login = function login(id, token) {\n  return {\n    type: LOGIN,\n    payload: {\n      id: id,\n      token: token,\n      inRoom: false\n    }\n  };\n};\nvar auth_joinState = function joinState() {\n  return {\n    type: JOIN\n  };\n};\nvar auth_logout = function logout() {\n  return {\n    type: LOGOUT\n  };\n};\nvar auth_getFacebookUrl = function getFacebookUrl() {\n  var stringifiedParams = query_string["stringify"]({\n    client_id: "601715547260365",\n    redirect_uri: "https://caro-online-1712039-1712121.herokuapp.com/auth/facebook",\n    scope: "email",\n    // comma seperated string\n    response_type: "code",\n    auth_type: "rerequest",\n    display: "popup"\n  });\n  return "https://www.facebook.com/v8.0/dialog/oauth?".concat(stringifiedParams);\n};\nvar auth_getGoogleUrl = function getGoogleUrl() {\n  return axios_default.a.get("/google/url").then(function (res) {\n    return res.data;\n  })["catch"](function (e) {\n    console.log(e);\n  });\n};\nvar auth_startLogin = function startLogin(email, password, setMessage) {\n  return function (dispatch, getState) {\n    axios_default.a.post("/api/login", {\n      email: email,\n      password: password\n    }).then(function (res) {\n      var _res$data = res.data,\n          user = _res$data.user,\n          token = _res$data.token;\n      dispatch(auth_login(user._id, token));\n      setMessage({\n        type: "success",\n        content: "Login Successfully !!!",\n        open: true\n      });\n    })["catch"](function (e) {\n      console.log(e);\n      var error = e.response && e.response.data && e.response.data.error;\n      setMessage({\n        type: "error",\n        content: "".concat(error || e.response.statusText),\n        open: true\n      });\n    });\n  };\n};\nvar auth_startLoginAdmin = function startLoginAdmin(email, password, history, setMessage) {\n  return function (dispatch, getState) {\n    axios_default.a.post("/api/admin/login", {\n      email: email,\n      password: password\n    }).then(function (res) {\n      var _res$data2 = res.data,\n          user = _res$data2.user,\n          token = _res$data2.token;\n      dispatch(auth_login(user._id, token));\n      setMessage({\n        type: "success",\n        content: "Login Successfully !!!",\n        open: true\n      });\n      history.push("/");\n    })["catch"](function (e) {\n      console.log(e);\n      var error = e.response && e.response.data && e.response.data.error;\n      setMessage({\n        type: "error",\n        content: "".concat(error || e.response.statusText),\n        open: true\n      });\n    });\n  };\n};\nvar auth_startLoginThirdParty = function startLoginThirdParty(path, code, history) {\n  return function (dispatch, getState) {\n    axios_default.a.post("/api/login".concat(path), {\n      code: code\n    }).then(function (res) {\n      var _res$data3 = res.data,\n          user = _res$data3.user,\n          token = _res$data3.token;\n      dispatch(auth_login(user._id, token));\n      history.push("/");\n    })["catch"](function (e) {\n      console.log(e.response);\n    });\n  };\n};\nvar auth_startSignUp = function startSignUp(data, setMessage) {\n  return function (dispatch, getState) {\n    axios_default.a.post("/api/users", _objectSpread({}, data)).then(function (res) {\n      var _res$data4 = res.data,\n          user = _res$data4.user,\n          token = _res$data4.token;\n      dispatch(auth_login(user._id, token));\n      setMessage({\n        type: "success",\n        content: "Signup Successfully !!!",\n        open: true\n      });\n    })["catch"](function (e) {\n      var error = e.response && e.response.data && e.response.data.error;\n      setMessage({\n        type: "error",\n        content: "".concat(error || e.response.statusText),\n        open: true\n      });\n    });\n  };\n};\n// CONCATENATED MODULE: ./client/components/starting/StartingTemplate.js\n\n\n\n\n\n\n\n\n\n\n\n\nvar facebookUrl = auth_getFacebookUrl();\nvar StartingTemplate_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {\n      height: "100vh"\n    },\n    image: {\n      backgroundImage: "url(https://source.unsplash.com/random)",\n      backgroundRepeat: "no-repeat",\n      backgroundColor: theme.palette.type === "light" ? theme.palette.grey[50] : theme.palette.grey[900],\n      backgroundSize: "cover",\n      backgroundPosition: "center"\n    },\n    paper: {\n      margin: "20px 35px",\n      display: "flex",\n      flexDirection: "column",\n      alignItems: "center"\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    }\n  };\n});\n\nvar StartingTemplate_StartPage = function StartPage(props) {\n  var classes = StartingTemplate_useStyles();\n\n  var _useState = Object(react["useState"])(true),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      panel = _useState2[0],\n      SetPanel = _useState2[1];\n\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    component: "main",\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(CssBaseline["a" /* default */], null), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: false,\n    sm: 4,\n    md: 7,\n    className: classes.image\n  }), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    sm: 8,\n    md: 5,\n    component: Paper["a" /* default */],\n    elevation: 6,\n    square: true\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.paper\n  }, /*#__PURE__*/react_default.a.createElement(Avatar["a" /* default */], {\n    className: classes.avatar\n  }, /*#__PURE__*/react_default.a.createElement(LockOutlined_default.a, null)), panel ? /*#__PURE__*/react_default.a.createElement(starting_LoginPanel, {\n    facebookUrl: facebookUrl,\n    login: props.startLogin,\n    getGoogleUrl: auth_getGoogleUrl,\n    toSignUp: function toSignUp() {\n      return SetPanel(false);\n    }\n  }) : /*#__PURE__*/react_default.a.createElement(starting_SignUpPanel, {\n    facebookUrl: facebookUrl,\n    signup: props.startSignUp,\n    getGoogleUrl: auth_getGoogleUrl,\n    toLogin: function toLogin() {\n      return SetPanel(true);\n    }\n  }))));\n};\n\nvar mapDispatchToProps = {\n  startLogin: auth_startLogin,\n  startSignUp: auth_startSignUp\n};\n/* harmony default export */ var StartingTemplate = (Object(es["b" /* connect */])(null, mapDispatchToProps)(StartingTemplate_StartPage));\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Backdrop/Backdrop.js\nvar Backdrop = __webpack_require__("+Isj");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js\nvar CircularProgress = __webpack_require__("iae6");\n\n// CONCATENATED MODULE: ./client/components/starting/LoginWithThirdParty.js\n\n\n\n\n\n\n\n\nvar LoginWithThirdParty_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \'#fff\'\n    }\n  };\n});\n\nvar LoginWithThirdParty_LoadingLogin = function LoadingLogin(props) {\n  var classes = LoginWithThirdParty_useStyles();\n  Object(react["useEffect"])(function () {\n    var params = query_string["parse"](props.location.search);\n    var path = props.location.pathname.includes(\'google\') ? \'Google\' : \'Facebook\';\n    if (params.error) props.history.push(\'/\');else {\n      props.loginThirdParty(path, params.code, props.history);\n    }\n  });\n  return /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Backdrop["a" /* default */], {\n    className: classes.backdrop,\n    open: true\n  }, /*#__PURE__*/react_default.a.createElement(CircularProgress["a" /* default */], {\n    color: "inherit"\n  })));\n};\n\nvar LoginWithThirdParty_mapDispatchToProps = {\n  loginThirdParty: auth_startLoginThirdParty\n};\n/* harmony default export */ var LoginWithThirdParty = (Object(es["b" /* connect */])(null, LoginWithThirdParty_mapDispatchToProps)(Object(react_router["h" /* withRouter */])(LoginWithThirdParty_LoadingLogin)));\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Dialog/Dialog.js\nvar Dialog = __webpack_require__("kfFl");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js\nvar DialogContent = __webpack_require__("EQI2");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/SupervisorAccount.js\nvar SupervisorAccount = __webpack_require__("38fH");\nvar SupervisorAccount_default = /*#__PURE__*/__webpack_require__.n(SupervisorAccount);\n\n// CONCATENATED MODULE: ./client/components/starting/AdminLoginPanel.js\n\n\n\n\n\n\n\n\n\n\nvar AdminLoginPanel_AdminLoginPanel = function AdminLoginPanel(props) {\n  var classes = AdminLoginPanel_useStyles();\n\n  var _useState = Object(react["useState"])(null),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var handleSubmitLogin = function handleSubmitLogin(e) {\n    e.preventDefault();\n    var email = e.target.elements.email.value;\n    var password = e.target.elements.password.value;\n    props.startLoginAdmin(email, password, props.history, setMessage);\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    style: {\n      minHeight: "100vh"\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Dialog["a" /* default */], {\n    open: true,\n    onClose: function onClose() {\n      return false;\n    },\n    maxWidth: "lg"\n  }, /*#__PURE__*/react_default.a.createElement(DialogContent["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    direction: "column",\n    alignItems: "center",\n    className: classes.dialog\n  }, /*#__PURE__*/react_default.a.createElement(Avatar["a" /* default */], {\n    className: classes.avatar\n  }, /*#__PURE__*/react_default.a.createElement(SupervisorAccount_default.a, null)), /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "h5",\n    color: "initial"\n  }, "WELCOME"), /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "body2",\n    color: "initial"\n  }, "PLEASE LOGIN TO ADMIN DASHBOARD"), /*#__PURE__*/react_default.a.createElement("form", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: handleSubmitLogin\n  }, /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    id: "email",\n    autoComplete: "email",\n    fullWidth: true,\n    margin: "normal",\n    required: true,\n    label: "Email",\n    variant: "outlined",\n    className: classes.textFiled\n  }), /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    id: "password",\n    autoComplete: "password",\n    fullWidth: true,\n    margin: "normal",\n    required: true,\n    label: "Password",\n    variant: "outlined",\n    type: "password",\n    className: classes.textFiled\n  }), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    type: "submit",\n    variant: "contained",\n    color: "primary",\n    className: classes.button\n  }, "Log In"))), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    justify: "center"\n  }, /*#__PURE__*/react_default.a.createElement(Link["a" /* default */], {\n    href: "#",\n    variant: "body2"\n  }, "Forgot password?"))))), /*#__PURE__*/react_default.a.createElement(CustomizedSnackbars, {\n    message: message\n  }));\n};\n\nvar AdminLoginPanel_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {\n      width: 600,\n      height: "auto"\n    },\n    dialog: {\n      "& > *": {\n        margin: "10px 0"\n      }\n    },\n    form: {\n      display: "flex",\n      flexDirection: "column"\n    },\n    textFiled: {\n      width: 320,\n      margin: "10px auto"\n    },\n    button: {\n      width: "50%",\n      margin: "10px auto"\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    }\n  };\n});\nvar AdminLoginPanel_mapDispatchToProps = {\n  startLoginAdmin: auth_startLoginAdmin\n};\n/* harmony default export */ var starting_AdminLoginPanel = (Object(es["b" /* connect */])(null, AdminLoginPanel_mapDispatchToProps)(AdminLoginPanel_AdminLoginPanel));\n// CONCATENATED MODULE: ./client/components/common/404.js\n\n\n\nvar _404_NotFound = function NotFound(props) {\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "container"\n  }, /*#__PURE__*/react_default.a.createElement("h1", {\n    className: "header__title"\n  }, props.title), props.subtitle && /*#__PURE__*/react_default.a.createElement("h2", {\n    className: "header__subtitle"\n  }, /*#__PURE__*/react_default.a.createElement(react_router_dom["b" /* Link */], {\n    to: "/"\n  }, props.subtitle))));\n};\n\n_404_NotFound.defaultProps = {\n  title: "KhÃ´ng tÃ¬m tháº¥y trang cáº§n tÃ¬m",\n  subtitle: "Quay láº¡i trang chá»§"\n};\n/* harmony default export */ var _404 = (/*#__PURE__*/react_default.a.memo(_404_NotFound));\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/classCallCheck.js\nvar classCallCheck = __webpack_require__("lwsE");\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/createClass.js\nvar createClass = __webpack_require__("W8MJ");\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__("jifJ");\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// CONCATENATED MODULE: ./client/socket/client.js\n\n\n\n\nvar client_WSClient = /*#__PURE__*/function () {\n  function WSClient() {\n    classCallCheck_default()(this, WSClient);\n\n    this.socket = null;\n  }\n\n  createClass_default()(WSClient, [{\n    key: "connect",\n    value: function connect(userId) {\n      this.socket = build_default.a.connect("http://localhost:3000/", {\n        query: "userId=" + userId,\n        secure: true\n      });\n    }\n  }, {\n    key: "startListenUpdateUser",\n    value: function startListenUpdateUser(setUserOnline) {\n      this.socket.on("update-user", function (data) {\n        setUserOnline(data);\n      });\n    }\n  }, {\n    key: "joinChannel",\n    value: function joinChannel(id) {\n      this.socket.emit("join-room", id);\n    }\n  }, {\n    key: "leaveChannel",\n    value: function leaveChannel(id) {\n      this.socket.emit("leave-room", id);\n    }\n  }, {\n    key: "sendMessage",\n    value: function sendMessage(message) {\n      this.socket.emit("send-chat", message);\n    }\n  }, {\n    key: "startListenUpdateChat",\n    value: function startListenUpdateChat(updateChat) {\n      this.socket.on("new-message", function (data) {\n        var roomID = data.roomID,\n            message = data.message,\n            timestamp = data.timestamp;\n        updateChat(roomID, message, false, timestamp);\n      });\n    }\n  }, {\n    key: "sendGameData",\n    value: function sendGameData(data) {\n      this.socket.emit("send-game-data", data);\n    }\n  }, {\n    key: "startListenUpdateGameData",\n    value: function startListenUpdateGameData(updateGameDate) {\n      this.socket.on("new-game-data", function (data) {//update gameDataReducer\n      });\n    }\n  }, {\n    key: "shutdownWS",\n    value: function shutdownWS() {\n      this.socket.emit("send-disconnect-request");\n      this.socket = null;\n    }\n  }]);\n\n  return WSClient;\n}();\n\nvar WS = new client_WSClient();\n/* harmony default export */ var client = (WS);\n// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js\nvar clsx_m = __webpack_require__("iuhU");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Add.js\nvar Add = __webpack_require__("1waj");\nvar Add_default = /*#__PURE__*/__webpack_require__.n(Add);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js\nvar DialogActions = __webpack_require__("+JwS");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__("yv+Y");\n\n// CONCATENATED MODULE: ./client/action/room/type.js\nvar ADD_ROOM = "add_room";\nvar REMOVE_ROOM = "remove_room";\nvar ADD_PLAYER = "add_player";\n// CONCATENATED MODULE: ./client/action/room/action.js\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\nvar _createID = function _createID() {\n  var guid = \'xyxxyx\'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == \'x\' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n  return guid.toUpperCase();\n};\n\nvar action_addRoom = function addRoom(playerID) {\n  return {\n    type: ADD_ROOM,\n    payload: {\n      id: _createID(),\n      players: [playerID]\n    }\n  };\n};\nvar action_removeRoom = function removeRoom(id) {\n  return {\n    type: REMOVE_ROOM,\n    payload: {\n      id: id\n    }\n  };\n};\nvar action_addPlayer = function addPlayer(id, playerID) {\n  return {\n    type: ADD_PLAYER,\n    payload: {\n      id: id,\n      playerID: playerID\n    }\n  };\n};\nvar joinRoom = function joinRoom(id, playerID) {\n  return function (dispatch, getState) {\n    var state = getState();\n    var auth = state.auth,\n        room = state.room;\n\n    var _iterator = _createForOfIteratorHelper(room),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n\n        if (item.id == id && item.players.length < 2 && !auth.inRoom) {\n          dispatch(action_addPlayer(id, playerID));\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return false;\n  };\n};\n// CONCATENATED MODULE: ./client/components/room/AddRoomBtn.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar AddRoomBtn_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    button: {\n      margin: "10px 20px"\n    },\n    dialog: {\n      minWidth: 200\n    }\n  };\n});\n\nvar AddRoomBtn_AddRoomBtn = function AddRoomBtn(props) {\n  var classes = AddRoomBtn_useStyles();\n\n  var _useState = Object(react["useState"])(false),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var handleClickOpen = function handleClickOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleSubmit = function handleSubmit() {\n    setOpen(false);\n\n    if (!props.busy) {\n      var data = props.addRoom(props.userId);\n      client.joinChannel(data.payload.id);\n      props.joinState();\n      props.history.push(\'/room/\' + data.payload.id);\n    }\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true\n  }, /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    onClick: handleClickOpen,\n    variant: "contained",\n    color: "primary",\n    className: classes.button,\n    startIcon: /*#__PURE__*/react_default.a.createElement(Add_default.a, null)\n  }, "Add new room"), /*#__PURE__*/react_default.a.createElement(Dialog["a" /* default */], {\n    open: open,\n    onClose: handleClose,\n    className: classes.dialog\n  }, /*#__PURE__*/react_default.a.createElement(DialogTitle["a" /* default */], {\n    id: "form-dialog-title"\n  }, "Add new room"), /*#__PURE__*/react_default.a.createElement(DialogActions["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    onClick: handleSubmit,\n    variant: "contained",\n    color: "primary"\n  }, "Create"), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    onClick: handleClose,\n    color: "primary"\n  }, "Cancel"))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    busy: state.auth.inRoom\n  };\n};\n\nvar AddRoomBtn_mapDispatchToProps = {\n  addRoom: action_addRoom,\n  joinState: auth_joinState\n};\n/* harmony default export */ var room_AddRoomBtn = (Object(es["b" /* connect */])(mapStateToProps, AddRoomBtn_mapDispatchToProps)(Object(react_router["h" /* withRouter */])(AddRoomBtn_AddRoomBtn)));\n// CONCATENATED MODULE: ./client/components/room/JoinRoomBtn.js\n\n\n\n\n\n\n\n\n\n\nvar JoinRoomBtn_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    button: {\n      margin: "10px 20px"\n    }\n  };\n});\n\nvar JoinRoomBtn_JoinRoomBtn = function JoinRoomBtn(props) {\n  var classes = JoinRoomBtn_useStyles();\n  var roomIdRef = Object(react["useRef"])();\n\n  var handleJoinRoom = function handleJoinRoom() {\n    if (!props.busy) {\n      var id = roomIdRef.current.value;\n      client.joinChannel(id);\n      props.addPlayer(id, props.userId);\n      props.joinState();\n      props.history.push(\'/room/\' + id);\n    }\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true\n  }, /*#__PURE__*/react_default.a.createElement(TextField["a" /* default */], {\n    id: "roomId",\n    size: "small",\n    type: "text",\n    label: "Room ID",\n    inputRef: roomIdRef\n  }), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    variant: "contained",\n    color: "primary",\n    className: classes.button,\n    onClick: handleJoinRoom\n  }, "Join room"));\n};\n\nvar JoinRoomBtn_mapDispatchToProps = {\n  addPlayer: action_addPlayer,\n  joinState: auth_joinState\n};\n\nvar JoinRoomBtn_mapStateToProps = function mapStateToProps(state) {\n  return {\n    busy: state.auth.inRoom\n  };\n};\n\n/* harmony default export */ var room_JoinRoomBtn = (Object(es["b" /* connect */])(JoinRoomBtn_mapStateToProps, JoinRoomBtn_mapDispatchToProps)(Object(react_router["h" /* withRouter */])(JoinRoomBtn_JoinRoomBtn)));\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__("30+C");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardHeader/CardHeader.js\nvar CardHeader = __webpack_require__("50B7");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardActions/CardActions.js\nvar CardActions = __webpack_require__("o4QW");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/colors/red.js\nvar red = __webpack_require__("dl/7");\n\n// CONCATENATED MODULE: ./client/components/room/RoomDetail.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar RoomDetail_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {},\n    avatar: {\n      backgroundColor: red["a" /* default */][500]\n    },\n    actions: {\n      justifyContent: "flex-end"\n    }\n  };\n});\n\nvar RoomDetail_RoomDetail = function RoomDetail(props) {\n  var classes = RoomDetail_useStyles();\n  var history = Object(react_router["g" /* useHistory */])();\n\n  var join = function join() {\n    if (!props.busy) {\n      client.joinChannel();\n      props.joinState();\n      props.addPlayer(props.id, props.userId);\n      history.push("/room/" + props.id);\n    } else if (props.players >= 2) {//khÃ´ng nháº­n thÃªm player.\n    }\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 4,\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(Card["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(CardHeader["a" /* default */], {\n    avatar: /*#__PURE__*/react_default.a.createElement(Avatar["a" /* default */], {\n      "aria-label": "recipe",\n      className: classes.avatar\n    }, "R") //   action={\n    //     <IconButton aria-label="settings">\n    //       <MoreVertIcon />\n    //     </IconButton>\n    //   }\n    ,\n    title: "Room ID: " + props.id,\n    subheader: props.players + "/2 player"\n  }), /*#__PURE__*/react_default.a.createElement(CardActions["a" /* default */], {\n    className: classes.actions,\n    disableSpacing: true\n  }, /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    onClick: join,\n    variant: "contained",\n    color: "primary",\n    className: classes.button\n  }, "Join room"))));\n};\n\nvar RoomDetail_mapDispatchToProps = {\n  addPlayer: action_addPlayer,\n  joinState: auth_joinState\n};\n\nvar RoomDetail_mapStateToProps = function mapStateToProps(state) {\n  return {\n    busy: state.auth.inRoom\n  };\n};\n\n/* harmony default export */ var room_RoomDetail = (Object(es["b" /* connect */])(RoomDetail_mapStateToProps, RoomDetail_mapDispatchToProps)(Object(react_router["h" /* withRouter */])(RoomDetail_RoomDetail)));\n// CONCATENATED MODULE: ./client/components/room/ListRoom.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ListRoom_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {\n      borderRight: "5px solid #d2d2d2",\n      padding: 20\n    },\n    functionBtn: {\n      margin: "10px 0",\n      background: "#eee",\n      borderRadius: "0.8rem"\n    },\n    room: {\n      padding: 10,\n      background: "#eee",\n      borderRadius: "0.8rem",\n      margin: 0\n    }\n  };\n});\n\nvar ListRoom_ListRoom = function ListRoom(props) {\n  var classes = ListRoom_useStyles();\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    item: true,\n    xs: 12,\n    direction: "row",\n    justify: "space-between",\n    className: classes.functionBtn\n  }, /*#__PURE__*/react_default.a.createElement(room_AddRoomBtn, {\n    userId: props.userId\n  }), /*#__PURE__*/react_default.a.createElement(room_JoinRoomBtn, {\n    userId: props.userId\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    item: true,\n    xs: 12,\n    spacing: 2,\n    className: classes.room\n  }, props.rooms.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(room_RoomDetail, {\n      id: item.id,\n      players: item.players.length,\n      userId: props.userId\n    });\n  })));\n};\n\nvar ListRoom_mapStateToProps = function mapStateToProps(state) {\n  return {\n    rooms: state.room\n  };\n};\n\n/* harmony default export */ var room_ListRoom = (Object(es["b" /* connect */])(ListRoom_mapStateToProps)(ListRoom_ListRoom));\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AccountCircle.js\nvar AccountCircle = __webpack_require__("Ti5m");\nvar AccountCircle_default = /*#__PURE__*/__webpack_require__.n(AccountCircle);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/FiberManualRecord.js\nvar FiberManualRecord = __webpack_require__("22ne");\nvar FiberManualRecord_default = /*#__PURE__*/__webpack_require__.n(FiberManualRecord);\n\n// CONCATENATED MODULE: ./client/components/player/PlayerDetail.js\n\n\n\n\nvar PlayerDetail_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {\n      background: "transparent",\n      margin: 5,\n      display: "flex",\n      flexDirection: "row",\n      justifyContent: "space-between"\n    },\n    label: {\n      display: "flex",\n      flexDirection: "row"\n    },\n    info: {\n      margin: "auto 5px"\n    },\n    status: {\n      color: "#41ee41",\n      height: 10,\n      width: 10,\n      margin: "auto 5px"\n    }\n  };\n});\n\nvar PlayerDetail_PlayerDetail = function PlayerDetail(props) {\n  var classes = PlayerDetail_useStyles();\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.label\n  }, /*#__PURE__*/react_default.a.createElement(AccountCircle_default.a, null), /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.info\n  }, props.name)), /*#__PURE__*/react_default.a.createElement(FiberManualRecord_default.a, {\n    size: "small",\n    className: classes.status\n  })));\n};\n\n/* harmony default export */ var player_PlayerDetail = (PlayerDetail_PlayerDetail);\n// CONCATENATED MODULE: ./client/components/player/ListPlayer.js\n\n\n\nvar ListPlayer_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {},\n    title: {\n      margin: 10,\n      fontSize: 18,\n      fontWeight: "bold"\n    }\n  };\n});\n\nvar ListPlayer_ListPlayer = function ListPlayer(props) {\n  var user = props.user;\n  console.log(user);\n  var classes = ListPlayer_useStyles();\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    className: classes.title\n  }, "Total: ", user.length, " online"), user.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(player_PlayerDetail, {\n      name: item\n    });\n  }));\n};\n\n/* harmony default export */ var player_ListPlayer = (ListPlayer_ListPlayer);\n// CONCATENATED MODULE: ./client/components/MainPage.js\n\n\n\n\n\n\n\n\n\nvar MainPage_MainPage = function MainPage(props) {\n  var _useState = Object(react["useState"])([]),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  Object(react["useEffect"])(function () {\n    client.connect(props.userId);\n    client.startListenUpdateUser(setUser);\n    return function () {\n      client.shutdownWS();\n    };\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    md: 10\n  }, /*#__PURE__*/react_default.a.createElement(room_ListRoom, {\n    userId: props.userId\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    md: 2\n  }, /*#__PURE__*/react_default.a.createElement(player_ListPlayer, {\n    user: user\n  }))), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(common_Copyright, null)));\n};\n\nvar MainPage_mapStateToProps = function mapStateToProps(state) {\n  return {\n    userId: state.auth.id\n  };\n};\n\n/* harmony default export */ var components_MainPage = (Object(es["b" /* connect */])(MainPage_mapStateToProps)(MainPage_MainPage));\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js\nvar AppBar = __webpack_require__("bXiM");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js\nvar Toolbar = __webpack_require__("lO0E");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__("PsDL");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js + 1 modules\nvar MenuItem = __webpack_require__("jjAL");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Popper/Popper.js\nvar Popper = __webpack_require__("AOnC");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grow/Grow.js\nvar Grow = __webpack_require__("bqsI");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/MenuList/MenuList.js + 1 modules\nvar MenuList = __webpack_require__("t0WV");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/ClickAwayListener/ClickAwayListener.js\nvar ClickAwayListener = __webpack_require__("668i");\n\n// CONCATENATED MODULE: ./client/components/layout/Header.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Header_useStyles = Object(makeStyles["a" /* default */])(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      "&>header": {\n        backgroundColor: "#2196F3"\n      }\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    title: {\n      flexGrow: 1,\n      fontSize: 24,\n      fontFamily: "Playball",\n      "& > a": {\n        color: "white",\n        "&:hover": {\n          textDecoration: "none"\n        }\n      }\n    }\n  };\n});\n\nvar Header_Header = function Header(props) {\n  var classes = Header_useStyles();\n  var history = Object(react_router["g" /* useHistory */])();\n\n  var _useState = Object(react["useState"])(false),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var anchorRef = Object(react["useRef"])(null);\n\n  var handleToggle = function handleToggle() {\n    setOpen(function (prevOpen) {\n      return !prevOpen;\n    });\n  };\n\n  var handleClose = function handleClose(event) {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  }; // return focus to the button when we transitioned from !open -> open\n\n\n  var prevOpen = Object(react["useRef"])(open);\n  Object(react["useEffect"])(function () {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  var handleSignout = function handleSignout() {\n    console.log("LOGOUT");\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(AppBar["a" /* default */], {\n    position: "static"\n  }, /*#__PURE__*/react_default.a.createElement(Toolbar["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "h6",\n    className: classes.title\n  }, /*#__PURE__*/react_default.a.createElement(Link["a" /* default */], {\n    component: react_router_dom["b" /* Link */],\n    to: "/"\n  }, "Caro Online")), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(IconButton["a" /* default */], {\n    ref: anchorRef,\n    onClick: handleToggle,\n    color: "inherit"\n  }, /*#__PURE__*/react_default.a.createElement(AccountCircle_default.a, null), /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "subtitle2",\n    color: "initial"\n  }, "My Name")), /*#__PURE__*/react_default.a.createElement(Popper["a" /* default */], {\n    open: open,\n    anchorEl: anchorRef.current,\n    placement: "bottom-end",\n    transition: true\n  }, function (_ref) {\n    var TransitionProps = _ref.TransitionProps;\n    return /*#__PURE__*/react_default.a.createElement(Grow["a" /* default */], TransitionProps, /*#__PURE__*/react_default.a.createElement(Paper["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(ClickAwayListener["a" /* default */], {\n      onClickAway: handleClose\n    }, /*#__PURE__*/react_default.a.createElement(MenuList["a" /* default */], {\n      autoFocusItem: open,\n      id: "menu-list-grow"\n    }, /*#__PURE__*/react_default.a.createElement(MenuItem["a" /* default */], {\n      onClick: function onClick() {\n        return history.push("/profile");\n      }\n    }, "Profile"), /*#__PURE__*/react_default.a.createElement(MenuItem["a" /* default */], {\n      onClick: handleSignout\n    }, "Logout")))));\n  }))))), props.children);\n};\n\n/* harmony default export */ var layout_Header = (Header_Header);\n// CONCATENATED MODULE: ./client/components/board/Square.js\n\n\nvar Square_Square = function Square(props) {\n  var winSquare = props.winning && props.winning.line.includes(props.id) ? "square square-winning" : "square";\n  return /*#__PURE__*/react_default.a.createElement("button", {\n    className: winSquare,\n    onClick: props.onClick\n  }, props.value);\n};\n\n/* harmony default export */ var board_Square = (Square_Square);\n// EXTERNAL MODULE: ./node_modules/lodash/chunk.js\nvar chunk = __webpack_require__("kcif");\nvar chunk_default = /*#__PURE__*/__webpack_require__.n(chunk);\n\n// CONCATENATED MODULE: ./client/components/board/BoardView.js\n\n\n\n\nvar BoardView_BoardView = function BoardView(props) {\n  return /*#__PURE__*/react_default.a.createElement("div", null, chunk_default()(props.squares, props.size).map(function (row, i) {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      key: i,\n      className: "board-row"\n    }, row.map(function (square, j) {\n      return /*#__PURE__*/react_default.a.createElement(board_Square, {\n        key: j + i * props.size,\n        value: square,\n        id: j + i * props.size,\n        winning: props.winning,\n        onClick: function onClick() {\n          return props.handleClick(i, j);\n        }\n      });\n    }));\n  }));\n};\n\n/* harmony default export */ var board_BoardView = (BoardView_BoardView);\n// CONCATENATED MODULE: ./client/game-logic/calculateWinner.js\n\n\n/**\r\n * @param Array(9)\r\n * Function help find who winner in Tic-tac-toe games (3x3 board)\r\n * base on data store in an 1-dimensional array with 9 elements\r\n * Player-signal store as data in each element of array\r\n * @returns The winner/null(not end game yet)\r\n */\nvar calculateWinner_calculateWinner = function calculateWinner(squares) {\n  var lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  for (var i = 0; i < lines.length; i++) {\n    var _lines$i = slicedToArray_default()(lines[i], 3),\n        a = _lines$i[0],\n        b = _lines$i[1],\n        c = _lines$i[2];\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return {\n        line: lines[i].slice(),\n        winner: squares[a]\n      };\n    }\n  }\n\n  return null;\n};\n\n/* harmony default export */ var game_logic_calculateWinner = (calculateWinner_calculateWinner);\n// CONCATENATED MODULE: ./client/components/board/index.js\n\n\n\n\n\nvar board_useStyles = Object(makeStyles["a" /* default */])({\n  root: {\n    margin: 40\n  },\n  board: {\n    padding: "10px 60px",\n    background: "#d2d2d2",\n    borderRadius: 12\n  },\n  status: {\n    padding: "0px 50px"\n  }\n});\n\nvar board_Board = function Board(props) {\n  var classes = board_useStyles();\n  var players = [\'X\', \'O\'];\n  var size = 3;\n\n  var _useState = Object(react["useState"])([{\n    squares: Array(size * size).fill(null),\n    status: \'\'\n  }]),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      history = _useState2[0],\n      setHistory = _useState2[1];\n\n  var _useState3 = Object(react["useState"])(players[0]),\n      _useState4 = slicedToArray_default()(_useState3, 2),\n      nowPlaying = _useState4[0],\n      setNowPlaying = _useState4[1];\n\n  var _useState5 = Object(react["useState"])(\'\'),\n      _useState6 = slicedToArray_default()(_useState5, 2),\n      nowTicking = _useState6[0],\n      setNowTicking = _useState6[1];\n\n  var _useState7 = Object(react["useState"])(null),\n      _useState8 = slicedToArray_default()(_useState7, 2),\n      winning = _useState8[0],\n      setWinning = _useState8[1];\n\n  var _useState9 = Object(react["useState"])(0),\n      _useState10 = slicedToArray_default()(_useState9, 2),\n      step = _useState10[0],\n      setStep = _useState10[1];\n\n  var _useState11 = Object(react["useState"])(false),\n      _useState12 = slicedToArray_default()(_useState11, 2),\n      sort = _useState12[0],\n      setSort = _useState12[1];\n\n  var _handleClick = function handleClick(i, j) {\n    var id = i * size + j;\n    var tickIn = "{".concat(i, ";").concat(j, "}");\n    var curHistory = history.slice(0, step + 1);\n    var curStep = curHistory.length;\n    var squares = curHistory[curStep - 1].squares.slice();\n\n    if (game_logic_calculateWinner(squares) || squares[id]) {\n      return;\n    }\n\n    squares[id] = nowPlaying;\n    var isWin = game_logic_calculateWinner(squares);\n    setHistory(curHistory.concat({\n      squares: squares,\n      status: tickIn\n    }));\n    setNowPlaying(players[curStep % 2]);\n    setNowTicking(tickIn);\n    if (isWin) setWinning(isWin);\n    setStep(curStep);\n  };\n\n  var getGameStatus = function getGameStatus() {\n    var isWin = winning;\n\n    if (isWin) {\n      return \'Winner: \' + isWin.winner;\n    } else if (step >= 9) {\n      return \'Two player draw!\';\n    } else return \'Next player: \' + nowPlaying;\n  };\n\n  var allMoveButton = function allMoveButton() {\n    var allMoves = history.map(function (step, i) {\n      var desc = i ? "Go to move #".concat(i, "; Tick at ").concat(step.status) : \'Go to game start\';\n      if (i === step) desc = /*#__PURE__*/react_default.a.createElement("b", null, desc);\n      return /*#__PURE__*/react_default.a.createElement("li", {\n        key: i\n      }, /*#__PURE__*/react_default.a.createElement("button", {\n        onClick: function onClick() {\n          return jumpTo(i);\n        }\n      }, desc));\n    });\n    return sort ? allMoves.reverse() : allMoves;\n  };\n\n  var getTurnStatus = function getTurnStatus() {\n    return nowTicking !== \'\' ? "".concat(players[(step - 1) % 2], " tick at ").concat(nowTicking, " in his turn") : "The game isn\'t start yet";\n  };\n\n  var jumpTo = function jumpTo(i) {\n    var current = history[i];\n    var squares = current.squares.slice();\n    var isWin = game_logic_calculateWinner(squares);\n    setNowPlaying(players[i % 2]);\n    setWinning(isWin);\n    setNowTicking(current.status);\n    setStep(i);\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    item: true,\n    xs: 8,\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 8,\n    className: classes.board\n  }, /*#__PURE__*/react_default.a.createElement(board_BoardView, {\n    squares: history[step].squares,\n    size: size,\n    handleClick: function handleClick(i, j) {\n      return _handleClick(i, j);\n    },\n    winning: winning\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 4,\n    className: classes.status\n  }, /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "h6",\n    color: "initial"\n  }, "Turn: ", getGameStatus()), /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "h6",\n    color: "initial"\n  }, "X: Player 1"), /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "h6",\n    color: "initial"\n  }, "O: Player 2"), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "status"\n  }, getGameStatus()), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "game-info"\n  }, /*#__PURE__*/react_default.a.createElement("div", null, status), /*#__PURE__*/react_default.a.createElement("ol", null, /*#__PURE__*/react_default.a.createElement("button", {\n    onClick: function onClick() {\n      return setSort(!sort);\n    }\n  }, sort ? \'Descending order\' : \'Ascending order\'), allMoveButton())), /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    variant: "contained",\n    color: "secondary",\n    size: "small"\n  }, "Leave Room")));\n};\n\n/* harmony default export */ var board = (board_Board);\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Send.js\nvar Send = __webpack_require__("5sJl");\nvar Send_default = /*#__PURE__*/__webpack_require__.n(Send);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Forum.js\nvar Forum = __webpack_require__("SGVO");\nvar Forum_default = /*#__PURE__*/__webpack_require__.n(Forum);\n\n// CONCATENATED MODULE: ./client/components/chat/message.js\n\n\nvar message_useStyles = Object(makeStyles["a" /* default */])({\n  root: {\n    padding: "5px 10px"\n  },\n  info: {},\n  content: {\n    borderRadius: 12,\n    color: "white",\n    padding: "5px 10px",\n    width: "fit-content",\n    height: "fit-content"\n  }\n});\n\nvar message_Message = function Message(props) {\n  var isMyMessage = props.isMyMessage,\n      message = props.message;\n  var classes = message_useStyles();\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    className: classes.root,\n    justify: isMyMessage && "flex-end"\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    className: classes.content,\n    style: {\n      background: "".concat(isMyMessage ? "#1d4bcd" : "#727272")\n    }\n  }, message));\n};\n\n/* harmony default export */ var chat_message = (message_Message);\n// CONCATENATED MODULE: ./client/action/chat/type.js\nvar ADD_MESSAGE = "add_message";\n// CONCATENATED MODULE: ./client/action/chat/action.js\n\nvar action_addMessage = function addMessage(roomID, message, isOwn, timestamp) {\n  return {\n    type: ADD_MESSAGE,\n    payload: {\n      roomID: roomID,\n      message: message,\n      isMyMessage: isOwn\n    }\n  };\n};\n// CONCATENATED MODULE: ./client/components/chat/index.js\n\n\n\n\n\n\n\n\nvar chat_useStyles = Object(makeStyles["a" /* default */])({\n  root: {\n    margin: 15\n  },\n  content: {\n    border: "1px solid black",\n    borderRadius: "12px",\n    background: "#d2d2d2",\n    height: 480\n  },\n  title: {\n    fontWeight: "bold",\n    fontSize: 18\n  },\n  input: {\n    padding: 4,\n    borderTop: "1px solid #bababa",\n    height: 50\n  },\n  inputBtn: {\n    height: 30,\n    borderRadius: 5,\n    border: "1px solid #dedede",\n    fontSize: 16\n  },\n  box: {\n    height: 400,\n    maxHeight: 400,\n    overflowY: "auto"\n  }\n});\n\nvar chat_BoxChat = function BoxChat(props) {\n  var chatRef = Object(react["useRef"])();\n  var allMessages = props.chat[props.roomID];\n  client.startListenUpdateChat(props.addMessage);\n\n  var handleChat = function handleChat() {\n    var timestamp = Date.now();\n    var text = chatRef.current.value;\n    client.sendMessage({\n      roomID: props.roomID,\n      text: text,\n      timestamp: timestamp\n    });\n    props.addMessage(props.roomID, text, true, timestamp);\n  };\n\n  var classes = chat_useStyles();\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    container: true,\n    xs: 4,\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    container: true,\n    direction: "row",\n    className: classes.title\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true\n  }, /*#__PURE__*/react_default.a.createElement(Forum_default.a, null)), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true\n  }, /*#__PURE__*/react_default.a.createElement(Typography["a" /* default */], {\n    variant: "h6"\n  }, "Box Chat"))), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    container: true,\n    xs: 12,\n    className: classes.content,\n    alignItems: "flex-end"\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    xs: 12,\n    className: classes.box\n  }, allMessages.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(chat_message, {\n      isMyMessage: item.isMyMessage,\n      message: item.message\n    });\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    item: true,\n    xs: 12,\n    justify: "flex-end",\n    className: classes.input\n  }, /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    style: {\n      margin: "auto 0"\n    }\n  }, /*#__PURE__*/react_default.a.createElement("input", {\n    id: "message",\n    className: classes.inputBtn,\n    ref: chatRef\n  })), /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    item: true,\n    style: {\n      margin: "auto 5px"\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    startIcon: /*#__PURE__*/react_default.a.createElement(Send_default.a, null),\n    variant: "contained",\n    color: "primary",\n    margin: "",\n    onClick: handleChat\n  }, "Send")))));\n};\n\nvar chat_mapStateToProps = function mapStateToProps(state) {\n  return {\n    chat: state.chat\n  };\n};\n\nvar chat_mapDispatchToProps = {\n  addMessage: action_addMessage\n};\n/* harmony default export */ var chat = (Object(es["b" /* connect */])(chat_mapStateToProps, chat_mapDispatchToProps)(chat_BoxChat));\n;\n// CONCATENATED MODULE: ./client/components/room/RoomView.js\n\n\n\n\n\n\nvar RoomView_useStyles = Object(makeStyles["a" /* default */])({\n  root: {\n    minWidth: 350,\n    display: "flex",\n    flexDirection: "column",\n    justifyContent: "center",\n    textAlign: "center"\n  },\n  actions: {\n    justifyContent: "center"\n  },\n  infoPlayer: {\n    border: "1px solid #d2d2d2",\n    textAlign: "left",\n    margin: "auto 5px",\n    padding: 10,\n    fontSize: 18\n  },\n  icon: {\n    maxHeight: 50,\n    margin: 5\n  }\n});\n\nvar RoomView_RoomView = function RoomView(props) {\n  var classes = RoomView_useStyles();\n\n  var _useState = Object(react["useState"])(true),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      start = _useState2[0],\n      setStart = _useState2[1];\n\n  return /*#__PURE__*/react_default.a.createElement(Grid["a" /* default */], {\n    container: true,\n    direction: "row",\n    justify: "flex-start",\n    alignItems: "flex-start",\n    alignContent: "stretch",\n    wrap: "nowrap"\n  }, /*#__PURE__*/react_default.a.createElement(board, null), /*#__PURE__*/react_default.a.createElement(chat, null), /*#__PURE__*/react_default.a.createElement(Dialog["a" /* default */], {\n    open: !start,\n    onClose: function onClose() {\n      return setStart(false);\n    }\n  }, /*#__PURE__*/react_default.a.createElement(DialogContent["a" /* default */], {\n    className: classes.root\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.infoPlayer\n  }, "Player 1:"), /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.icon\n  }, /*#__PURE__*/react_default.a.createElement("img", {\n    height: 50,\n    width: 50,\n    src: "https://previews.123rf.com/images/vectorplusb/vectorplusb1907/vectorplusb190700006/127029169-vs-letters-or-versus-vector-sign-isolated-on-transparent-background-.jpg"\n  })), /*#__PURE__*/react_default.a.createElement("div", {\n    className: classes.infoPlayer\n  }, "Player 2:")), /*#__PURE__*/react_default.a.createElement(DialogActions["a" /* default */], {\n    className: classes.actions\n  }, /*#__PURE__*/react_default.a.createElement(Button["a" /* default */], {\n    onClick: function onClick() {\n      return setStart(true);\n    },\n    size: "large",\n    variant: "contained",\n    color: "primary"\n  }, "Start"))));\n};\n\n/* harmony default export */ var room_RoomView = (RoomView_RoomView);\n// CONCATENATED MODULE: ./client/routes/PrivateRoutes.js\n\n\n\n\n\n\n\n\n\n\n\n\nvar PrivateRoutes_PrivateRoutes = function PrivateRoutes(props) {\n  if (props.isAuthenticated) {\n    return /*#__PURE__*/react_default.a.createElement(layout_Header, null, /*#__PURE__*/react_default.a.createElement(react_router["d" /* Switch */], null, /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/",\n      component: components_MainPage,\n      exact: true\n    }), /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/room/:id",\n      component: room_RoomView\n    }), /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/404",\n      component: _404\n    }), /*#__PURE__*/react_default.a.createElement(react_router["a" /* Redirect */], {\n      to: "/404"\n    })));\n  } else {\n    return /*#__PURE__*/react_default.a.createElement(react_router["d" /* Switch */], null, /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/",\n      component: StartingTemplate,\n      exact: true\n    }), /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/admin",\n      component: starting_AdminLoginPanel\n    }), /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/auth/google",\n      component: LoginWithThirdParty\n    }), /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/auth/facebook",\n      component: LoginWithThirdParty\n    }), /*#__PURE__*/react_default.a.createElement(react_router["b" /* Route */], {\n      path: "/404",\n      component: _404\n    }), /*#__PURE__*/react_default.a.createElement(react_router["a" /* Redirect */], {\n      to: "/404"\n    }));\n  }\n};\n\nvar PrivateRoutes_mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuthenticated: !!state.auth.token\n  };\n};\n\n/* harmony default export */ var routes_PrivateRoutes = (Object(es["b" /* connect */])(PrivateRoutes_mapStateToProps)(PrivateRoutes_PrivateRoutes));\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__("ANjH");\n\n// EXTERNAL MODULE: ./node_modules/redux-thunk/es/index.js\nvar redux_thunk_es = __webpack_require__("sINF");\n\n// CONCATENATED MODULE: ./client/reducer/authReducer.js\n\n\nfunction authReducer_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction authReducer_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { authReducer_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { authReducer_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ var authReducer = (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN:\n      return authReducer_objectSpread({}, action.payload);\n\n    case JOIN:\n      state.inRoom = true;\n      return authReducer_objectSpread({}, state);\n\n    case LOGOUT:\n      return {};\n\n    default:\n      return state;\n  }\n});\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/toConsumableArray.js\nvar toConsumableArray = __webpack_require__("RIqP");\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);\n\n// CONCATENATED MODULE: ./client/reducer/roomReducer.js\n\n\n/* harmony default export */ var roomReducer = (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_ROOM:\n      return [].concat(toConsumableArray_default()(state), [action.payload]);\n\n    case REMOVE_ROOM:\n      return state.filter(function (item) {\n        return !(item.id === action.payload.id);\n      });\n\n    case ADD_PLAYER:\n      return state.map(function (item) {\n        if (item.id === action.payload.id && item.players < 2) {\n          item.players = [].concat(toConsumableArray_default()(item.players), [action.payload.playerID]);\n        }\n\n        return item;\n      });\n\n    default:\n      return state;\n  }\n});\n// CONCATENATED MODULE: ./client/reducer/chatReducer.js\n\n\nfunction chatReducer_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction chatReducer_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { chatReducer_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { chatReducer_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ var chatReducer = (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_MESSAGE:\n      var _action$payload = action.payload,\n          roomID = _action$payload.roomID,\n          message = _action$payload.message,\n          timestamp = _action$payload.timestamp,\n          isMyMessage = _action$payload.isMyMessage;\n      if (!state[roomID]) state[roomID] = [{\n        message: message,\n        timestamp: timestamp,\n        isMyMessage: isMyMessage\n      }];else state[roomID].push([{\n        message: message,\n        timestamp: timestamp,\n        isMyMessage: isMyMessage\n      }]);\n      return chatReducer_objectSpread({}, state);\n  }\n});\n// EXTERNAL MODULE: ./node_modules/redux-persist/es/index.js + 11 modules\nvar redux_persist_es = __webpack_require__("SVmU");\n\n// EXTERNAL MODULE: ./node_modules/localforage/dist/localforage.js\nvar localforage = __webpack_require__("oAJy");\nvar localforage_default = /*#__PURE__*/__webpack_require__.n(localforage);\n\n// CONCATENATED MODULE: ./client/store/store.js\n\n\n\n\n\n\n\n\nvar _createUUID = function _createUUID() {\n  var guid = \'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == \'x\' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n  return guid;\n}; //map reducer -> store\n\n\nvar rootReducer = Object(redux["c" /* combineReducers */])({\n  auth: authReducer,\n  room: roomReducer,\n  chat: chatReducer\n});\nvar localDB = localforage_default.a.createInstance({\n  name: "RVN-data"\n});\nvar persistConfig = {\n  key: \'root\',\n  whitelist: [],\n  blacklist: [\'auth\', \'room\', \'chat\'],\n  storage: localDB\n};\nvar persistedReducer = Object(redux_persist_es["a" /* persistReducer */])(persistConfig, rootReducer); //Táº¡o store + gÃ¡n listener cho má»i láº§n thay Äá»i store -> ghi vÃ o json\n\nvar store = Object(redux["d" /* createStore */])(persistedReducer, {}, Object(redux["a" /* applyMiddleware */])(redux_thunk_es["a" /* default */]));\nvar persistor = Object(redux_persist_es["b" /* persistStore */])(store);\n\n// EXTERNAL MODULE: ./node_modules/redux-persist/es/integration/react.js\nvar integration_react = __webpack_require__("KMx9");\n\n// CONCATENATED MODULE: ./client/routes/routes.js\n\n\n\n\n\n\n\nvar routes_Router = function Router() {\n  return /*#__PURE__*/react_default.a.createElement(es["a" /* Provider */], {\n    store: store\n  }, /*#__PURE__*/react_default.a.createElement(integration_react["a" /* PersistGate */], {\n    loading: null,\n    persistor: persistor\n  }, /*#__PURE__*/react_default.a.createElement(react_router_dom["a" /* BrowserRouter */], null, /*#__PURE__*/react_default.a.createElement(routes_PrivateRoutes, null))));\n};\n\n/* harmony default export */ var routes = (routes_Router);\n// CONCATENATED MODULE: ./client/app.js\n\n\n\n\nreact_dom_default.a.render( /*#__PURE__*/react_default.a.createElement(routes, null), document.getElementById(\'root\'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV0pHOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NsaWVudC9jb21wb25lbnRzL2NvbW1vbi9Db3B5cmlnaHQuanM/Y2Q4YiIsIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9jb21tb24vQ3VzdG9taXplZFNuYWNrYmFycy5qcz83ODE4Iiwid2VicGFjazovLy8uL2NsaWVudC9jb21wb25lbnRzL3N0YXJ0aW5nL1NpZ25VcFBhbmVsLmpzPzU0MjMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvc3RhcnRpbmcvTG9naW5QYW5lbC5qcz82OTIyIiwid2VicGFjazovLy8uL2NsaWVudC9hY3Rpb24vYXV0aC90eXBlLmpzP2FkMjQiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FjdGlvbi9hdXRoL2F1dGguanM/N2ZhMSIsIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9zdGFydGluZy9TdGFydGluZ1RlbXBsYXRlLmpzPzdiMTYiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvc3RhcnRpbmcvTG9naW5XaXRoVGhpcmRQYXJ0eS5qcz8yZGNkIiwid2VicGFjazovLy8uL2NsaWVudC9jb21wb25lbnRzL3N0YXJ0aW5nL0FkbWluTG9naW5QYW5lbC5qcz8zYTA2Iiwid2VicGFjazovLy8uL2NsaWVudC9jb21wb25lbnRzL2NvbW1vbi80MDQuanM/NzVhNiIsIndlYnBhY2s6Ly8vLi9jbGllbnQvc29ja2V0L2NsaWVudC5qcz85ZGRkIiwid2VicGFjazovLy8uL2NsaWVudC9hY3Rpb24vcm9vbS90eXBlLmpzPzYxODUiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FjdGlvbi9yb29tL2FjdGlvbi5qcz8wNjg2Iiwid2VicGFjazovLy8uL2NsaWVudC9jb21wb25lbnRzL3Jvb20vQWRkUm9vbUJ0bi5qcz9iNGJiIiwid2VicGFjazovLy8uL2NsaWVudC9jb21wb25lbnRzL3Jvb20vSm9pblJvb21CdG4uanM/ZGQ0YSIsIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9yb29tL1Jvb21EZXRhaWwuanM/MWNkZSIsIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9yb29tL0xpc3RSb29tLmpzPzE0ZDkiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvcGxheWVyL1BsYXllckRldGFpbC5qcz8xZDg2Iiwid2VicGFjazovLy8uL2NsaWVudC9jb21wb25lbnRzL3BsYXllci9MaXN0UGxheWVyLmpzPzlhZDciLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvTWFpblBhZ2UuanM/OTM0NSIsIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQvSGVhZGVyLmpzPzIxZGYiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvYm9hcmQvU3F1YXJlLmpzP2FlNGQiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvYm9hcmQvQm9hcmRWaWV3LmpzPzViZWIiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2dhbWUtbG9naWMvY2FsY3VsYXRlV2lubmVyLmpzPzdiNGMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvYm9hcmQvaW5kZXguanM/NjFmZSIsIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9jaGF0L21lc3NhZ2UuanM/NmNlNSIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYWN0aW9uL2NoYXQvdHlwZS5qcz83MjA2Iiwid2VicGFjazovLy8uL2NsaWVudC9hY3Rpb24vY2hhdC9hY3Rpb24uanM/OGZmNyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9jaGF0L2luZGV4LmpzP2M3MjYiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2NvbXBvbmVudHMvcm9vbS9Sb29tVmlldy5qcz9mOGRjIiwid2VicGFjazovLy8uL2NsaWVudC9yb3V0ZXMvUHJpdmF0ZVJvdXRlcy5qcz9hYTRmIiwid2VicGFjazovLy8uL2NsaWVudC9yZWR1Y2VyL2F1dGhSZWR1Y2VyLmpzP2E4MGEiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L3JlZHVjZXIvcm9vbVJlZHVjZXIuanM/NmUyNyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvcmVkdWNlci9jaGF0UmVkdWNlci5qcz9lOGY1Iiwid2VicGFjazovLy8uL2NsaWVudC9zdG9yZS9zdG9yZS5qcz9hMWNkIiwid2VicGFjazovLy8uL2NsaWVudC9yb3V0ZXMvcm91dGVzLmpzPzgzZmYiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC5qcz85OGMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9MaW5rXCI7XG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeVwiO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNkMmQyZDJcIixcbiAgICAgIHBhZGRpbmc6IFwiMTVweFwiLFxuICAgICAgYm90dG9tOiBcIjBcIlxuICAgIH1cbiAgfTtcbn0pO1xuXG52YXIgQ29weXJpZ2h0ID0gZnVuY3Rpb24gQ29weXJpZ2h0KCkge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5yb290XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHtcbiAgICB2YXJpYW50OiBcImJvZHkyXCIsXG4gICAgY29sb3I6IFwidGV4dFNlY29uZGFyeVwiLFxuICAgIGFsaWduOiBcImNlbnRlclwiXG4gIH0sIFwiQ29weXJpZ2h0IMKpIFwiLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgY29sb3I6IFwiaW5oZXJpdFwiLFxuICAgIGhyZWY6IFwiaHR0cHM6Ly9tYXRlcmlhbC11aS5jb20vXCJcbiAgfSwgXCJNeSBXZWJzaXRlXCIpLCBcIiBcIiwgbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBcIi5cIikpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29weXJpZ2h0OyIsImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFNuYWNrYmFyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9TbmFja2JhclwiO1xuaW1wb3J0IE11aUFsZXJ0IGZyb20gXCJAbWF0ZXJpYWwtdWkvbGFiL0FsZXJ0XCI7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL3N0eWxlc1wiO1xuXG5mdW5jdGlvbiBBbGVydChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTXVpQWxlcnQsIF9leHRlbmRzKHtcbiAgICBlbGV2YXRpb246IDYsXG4gICAgdmFyaWFudDogXCJmaWxsZWRcIlxuICB9LCBwcm9wcykpO1xufVxuXG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICBcIiYgPiAqICsgKlwiOiB7XG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygyKVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3VzdG9taXplZFNuYWNrYmFycyhwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIG9wZW4gPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0T3BlbiA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMubWVzc2FnZSkge1xuICAgICAgc2V0T3Blbihwcm9wcy5tZXNzYWdlLm9wZW4pO1xuICAgIH1cbiAgfSwgW3Byb3BzLm1lc3NhZ2VdKTtcblxuICB2YXIgaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiBoYW5kbGVDbG9zZShldmVudCwgcmVhc29uKSB7XG4gICAgaWYgKHJlYXNvbiA9PT0gXCJjbGlja2F3YXlcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldE9wZW4oZmFsc2UpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3RcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU25hY2tiYXIsIHtcbiAgICBvcGVuOiBvcGVuLFxuICAgIGF1dG9IaWRlRHVyYXRpb246IDYwMDAsXG4gICAgb25DbG9zZTogaGFuZGxlQ2xvc2VcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWxlcnQsIHtcbiAgICBvbkNsb3NlOiBoYW5kbGVDbG9zZSxcbiAgICBzZXZlcml0eTogcHJvcHMubWVzc2FnZSA/IHByb3BzLm1lc3NhZ2UudHlwZSA6IFwic3VjY2Vzc1wiXG4gIH0sIHByb3BzLm1lc3NhZ2UgPyBwcm9wcy5tZXNzYWdlLmNvbnRlbnQgOiBcImxvYWRpbmcuLi5cIikpKTtcbn0iLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0J1dHRvblwiO1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkXCI7XG5pbXBvcnQgTGluayBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvTGlua1wiO1xuaW1wb3J0IEdyaWQgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0dyaWRcIjtcbmltcG9ydCBCb3ggZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0JveFwiO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBDb3B5cmlnaHQgZnJvbSBcIi4uL2NvbW1vbi9Db3B5cmlnaHRcIjtcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5XCI7XG5pbXBvcnQgQ3VzdG9taXplZFNuYWNrYmFycyBmcm9tIFwiLi4vY29tbW9uL0N1c3RvbWl6ZWRTbmFja2JhcnNcIjtcbmltcG9ydCBGYWNlYm9va0ljb24gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9GYWNlYm9va1wiO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgZm9ybToge1xuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgLy8gRml4IElFIDExIGlzc3VlLlxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nKDMpXG4gICAgfSxcbiAgICBzdWJtaXQ6IHtcbiAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZygxLjIsIDApLFxuICAgICAgbWluSGVpZ2h0OiA0MFxuICAgIH1cbiAgfTtcbn0pO1xuXG52YXIgU2lnblVwUGFuZWwgPSBmdW5jdGlvbiBTaWduVXBQYW5lbChwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShcIiNcIiksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGdvb2dsZVVybCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRHb29nbGVVcmwgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBtZXNzYWdlID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldE1lc3NhZ2UgPSBfdXNlU3RhdGU0WzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcHJvcHMuZ2V0R29vZ2xlVXJsKCkudGhlbihmdW5jdGlvbiAodXJsKSB7XG4gICAgICByZXR1cm4gc2V0R29vZ2xlVXJsKHVybCk7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICB2YXIgaGFuZGxlU3VibWl0U2lnblVwID0gZnVuY3Rpb24gaGFuZGxlU3VibWl0U2lnblVwKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5hbWUgPSBlLnRhcmdldC5lbGVtZW50cy5mbmFtZS52YWx1ZS50cmltKCkgKyBcIiBcIiArIGUudGFyZ2V0LmVsZW1lbnRzLmxuYW1lLnZhbHVlLnRyaW0oKTtcbiAgICB2YXIgcGFzc3dvcmQgPSBlLnRhcmdldC5lbGVtZW50cy5wYXNzd29yZC52YWx1ZS50cmltKCk7XG4gICAgdmFyIGVtYWlsID0gZS50YXJnZXQuZWxlbWVudHMuZW1haWwudmFsdWUudHJpbSgpO1xuICAgIHByb3BzLnNpZ251cCh7XG4gICAgICBlbWFpbDogZW1haWwsXG4gICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICBuYW1lOiBuYW1lXG4gICAgfSwgc2V0TWVzc2FnZSk7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgY29tcG9uZW50OiBcImgxXCIsXG4gICAgdmFyaWFudDogXCJoNVwiXG4gIH0sIFwiU2lnbiB1cFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZm9ybSxcbiAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0U2lnblVwLFxuICAgIG5vVmFsaWRhdGU6IHRydWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICBzcGFjaW5nOiAyXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIHhzOiAxMixcbiAgICBzbTogNlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIHtcbiAgICBhdXRvQ29tcGxldGU6IFwiZm5hbWVcIixcbiAgICBuYW1lOiBcImZuYW1lXCIsXG4gICAgdmFyaWFudDogXCJvdXRsaW5lZFwiLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICBpZDogXCJmTmFtZVwiLFxuICAgIGxhYmVsOiBcIkZpcnN0IE5hbWVcIixcbiAgICBhdXRvRm9jdXM6IHRydWVcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAgc206IDZcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCB7XG4gICAgdmFyaWFudDogXCJvdXRsaW5lZFwiLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICBpZDogXCJsbmFtZVwiLFxuICAgIGxhYmVsOiBcIkxhc3QgTmFtZVwiLFxuICAgIG5hbWU6IFwibG5hbWVcIixcbiAgICBhdXRvQ29tcGxldGU6IFwibG5hbWVcIlxuICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIHhzOiAxMlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIHtcbiAgICB2YXJpYW50OiBcIm91dGxpbmVkXCIsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIGlkOiBcImVtYWlsXCIsXG4gICAgbGFiZWw6IFwiRW1haWwgQWRkcmVzc1wiLFxuICAgIG5hbWU6IFwiZW1haWxcIixcbiAgICBhdXRvQ29tcGxldGU6IFwiZW1haWxcIlxuICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIHhzOiAxMlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIHtcbiAgICB2YXJpYW50OiBcIm91dGxpbmVkXCIsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIG5hbWU6IFwicGFzc3dvcmRcIixcbiAgICBsYWJlbDogXCJQYXNzd29yZFwiLFxuICAgIHR5cGU6IFwicGFzc3dvcmRcIixcbiAgICBpZDogXCJwYXNzd29yZFwiLFxuICAgIGF1dG9Db21wbGV0ZTogXCJjdXJyZW50LXBhc3N3b3JkXCJcbiAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJzdWJtaXRcIixcbiAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgdmFyaWFudDogXCJjb250YWluZWRcIixcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN1Ym1pdFxuICB9LCBcIlNpZ24gVXBcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGhyZWY6IGdvb2dsZVVybCxcbiAgICBzdGFydEljb246IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICAgIHdpZHRoOiBcIjIwcHhcIixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIG1hcmdpbkJvdHRvbTogMyxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDVcbiAgICAgIH0sXG4gICAgICBhbHQ6IFwiR29vZ2xlIHNpZ24taW5cIixcbiAgICAgIHNyYzogXCJodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL3RodW1iLzUvNTMvR29vZ2xlXyUyMkclMjJfTG9nby5zdmcvNTEycHgtR29vZ2xlXyUyMkclMjJfTG9nby5zdmcucG5nXCJcbiAgICB9KSxcbiAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgdmFyaWFudDogXCJjb250YWluZWRcIixcbiAgICBjb2xvcjogXCJkZWZhdWx0XCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN1Ym1pdFxuICB9LCBcIkxvZyBJbiBXaXRoIEdvb2dsZVwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgaHJlZjogcHJvcHMuZmFjZWJvb2tVcmwsXG4gICAgc3RhcnRJY29uOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGYWNlYm9va0ljb24sIHtcbiAgICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGZvbnRTaXplOiAyOFxuICAgICAgfVxuICAgIH0pLFxuICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICB2YXJpYW50OiBcImNvbnRhaW5lZFwiLFxuICAgIGNvbG9yOiBcImRlZmF1bHRcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3VibWl0XG4gIH0sIFwiTG9nIEluIFdpdGggRmFjZWJvb2tcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbWl6ZWRTbmFja2JhcnMsIHtcbiAgICBtZXNzYWdlOiBtZXNzYWdlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIGp1c3RpZnk6IFwiZmxleC1lbmRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBwcm9wcy50b0xvZ2luKCk7XG4gICAgfSxcbiAgICB2YXJpYW50OiBcImJvZHkyXCJcbiAgfSwgXCJBbHJlYWR5IGhhdmUgYW4gYWNjb3VudD8gU2lnbiBpblwiKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICBtdDogNVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb3B5cmlnaHQsIG51bGwpKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2lnblVwUGFuZWw7IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b25cIjtcbmltcG9ydCBUZXh0RmllbGQgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZFwiO1xuaW1wb3J0IEZvcm1Db250cm9sTGFiZWwgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0Zvcm1Db250cm9sTGFiZWxcIjtcbmltcG9ydCBDaGVja2JveCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQ2hlY2tib3hcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9MaW5rXCI7XG5pbXBvcnQgQm94IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9Cb3hcIjtcbmltcG9ydCBHcmlkIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9HcmlkXCI7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL3N0eWxlc1wiO1xuaW1wb3J0IENvcHlyaWdodCBmcm9tIFwiLi4vY29tbW9uL0NvcHlyaWdodFwiO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHlcIjtcbmltcG9ydCBDdXN0b21pemVkU25hY2tiYXJzIGZyb20gXCIuLi9jb21tb24vQ3VzdG9taXplZFNuYWNrYmFyc1wiO1xuaW1wb3J0IEZhY2Vib29rSWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL0ZhY2Vib29rXCI7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBmb3JtOiB7XG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAvLyBGaXggSUUgMTEgaXNzdWUuXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcoMSlcbiAgICB9LFxuICAgIHN1Ym1pdDoge1xuICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nKDEuMiwgMCksXG4gICAgICBtaW5IZWlnaHQ6IDQwXG4gICAgfVxuICB9O1xufSk7XG5cbnZhciBMb2dpblBhbmVsID0gZnVuY3Rpb24gTG9naW5QYW5lbChwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShcIiNcIiksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGdvb2dsZVVybCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRHb29nbGVVcmwgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBtZXNzYWdlID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldE1lc3NhZ2UgPSBfdXNlU3RhdGU0WzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcHJvcHMuZ2V0R29vZ2xlVXJsKCkudGhlbihmdW5jdGlvbiAodXJsKSB7XG4gICAgICByZXR1cm4gc2V0R29vZ2xlVXJsKHVybCk7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICB2YXIgaGFuZGxlU3VibWl0TG9naW4gPSBmdW5jdGlvbiBoYW5kbGVTdWJtaXRMb2dpbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBlbWFpbCA9IGUudGFyZ2V0LmVsZW1lbnRzLmVtYWlsLnZhbHVlO1xuICAgIHZhciBwYXNzd29yZCA9IGUudGFyZ2V0LmVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlO1xuICAgIHByb3BzLmxvZ2luKGVtYWlsLCBwYXNzd29yZCwgc2V0TWVzc2FnZSk7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgY29tcG9uZW50OiBcImgxXCIsXG4gICAgdmFyaWFudDogXCJoNVwiXG4gIH0sIFwiTG9nIGluXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5mb3JtLFxuICAgIG5vVmFsaWRhdGU6IHRydWUsXG4gICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdExvZ2luXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwge1xuICAgIHZhcmlhbnQ6IFwib3V0bGluZWRcIixcbiAgICBtYXJnaW46IFwibm9ybWFsXCIsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIGlkOiBcImVtYWlsXCIsXG4gICAgbGFiZWw6IFwiRW1haWwgQWRkcmVzc1wiLFxuICAgIG5hbWU6IFwiZW1haWxcIixcbiAgICBhdXRvQ29tcGxldGU6IFwiZW1haWxcIixcbiAgICBhdXRvRm9jdXM6IHRydWVcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwge1xuICAgIHZhcmlhbnQ6IFwib3V0bGluZWRcIixcbiAgICBtYXJnaW46IFwibm9ybWFsXCIsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIG5hbWU6IFwicGFzc3dvcmRcIixcbiAgICBsYWJlbDogXCJQYXNzd29yZFwiLFxuICAgIHR5cGU6IFwicGFzc3dvcmRcIixcbiAgICBpZDogXCJwYXNzd29yZFwiLFxuICAgIGF1dG9Db21wbGV0ZTogXCJjdXJyZW50LXBhc3N3b3JkXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Db250cm9sTGFiZWwsIHtcbiAgICBjb250cm9sOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwge1xuICAgICAgdmFsdWU6IFwicmVtZW1iZXJcIixcbiAgICAgIGNvbG9yOiBcInByaW1hcnlcIlxuICAgIH0pLFxuICAgIGxhYmVsOiBcIlJlbWVtYmVyIG1lXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIHR5cGU6IFwic3VibWl0XCIsXG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsXG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5zdWJtaXRcbiAgfSwgXCJMb2cgSW5cIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGhyZWY6IGdvb2dsZVVybCxcbiAgICBzdGFydEljb246IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICAgIHdpZHRoOiBcIjIwcHhcIixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIG1hcmdpbkJvdHRvbTogMyxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDVcbiAgICAgIH0sXG4gICAgICBhbHQ6IFwiR29vZ2xlIHNpZ24taW5cIixcbiAgICAgIHNyYzogXCJodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL3RodW1iLzUvNTMvR29vZ2xlXyUyMkclMjJfTG9nby5zdmcvNTEycHgtR29vZ2xlXyUyMkclMjJfTG9nby5zdmcucG5nXCJcbiAgICB9KSxcbiAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgdmFyaWFudDogXCJjb250YWluZWRcIixcbiAgICBjb2xvcjogXCJkZWZhdWx0XCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN1Ym1pdFxuICB9LCBcIkxvZyBJbiBXaXRoIEdvb2dsZVwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgaHJlZjogcHJvcHMuZmFjZWJvb2tVcmwsXG4gICAgc3RhcnRJY29uOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGYWNlYm9va0ljb24sIHtcbiAgICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGZvbnRTaXplOiAyOFxuICAgICAgfVxuICAgIH0pLFxuICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICB2YXJpYW50OiBcImNvbnRhaW5lZFwiLFxuICAgIGNvbG9yOiBcImRlZmF1bHRcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3VibWl0XG4gIH0sIFwiTG9nIEluIFdpdGggRmFjZWJvb2tcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbWl6ZWRTbmFja2JhcnMsIHtcbiAgICBtZXNzYWdlOiBtZXNzYWdlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIHhzOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICBocmVmOiBcIiNcIixcbiAgICB2YXJpYW50OiBcImJvZHkyXCJcbiAgfSwgXCJGb3Jnb3QgcGFzc3dvcmQ/XCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGl0ZW06IHRydWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGluaywge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gcHJvcHMudG9TaWduVXAoKTtcbiAgICB9LFxuICAgIHZhcmlhbnQ6IFwiYm9keTJcIlxuICB9LCBcIkRvbid0IGhhdmUgYW4gYWNjb3VudD8gU2lnbiBVcFwiKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHtcbiAgICBtdDogNVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb3B5cmlnaHQsIG51bGwpKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9naW5QYW5lbDsiLCJleHBvcnQgdmFyIExPR0lOID0gXCJsb2dpblwiO1xuZXhwb3J0IHZhciBMT0dPVVQgPSBcImxvZ291dFwiO1xuZXhwb3J0IHZhciBKT0lOID0gXCJqb2luXCI7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IHsgTE9HSU4sIExPR09VVCwgSk9JTiB9IGZyb20gXCIuL3R5cGVcIjtcbmltcG9ydCBBeGlvcyBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCAqIGFzIHF1ZXJ5U3RyaW5nIGZyb20gXCJxdWVyeS1zdHJpbmdcIjtcbmV4cG9ydCB2YXIgbG9naW4gPSBmdW5jdGlvbiBsb2dpbihpZCwgdG9rZW4pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMT0dJTixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBpZDogaWQsXG4gICAgICB0b2tlbjogdG9rZW4sXG4gICAgICBpblJvb206IGZhbHNlXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgam9pblN0YXRlID0gZnVuY3Rpb24gam9pblN0YXRlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEpPSU5cbiAgfTtcbn07XG5leHBvcnQgdmFyIGxvZ291dCA9IGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMT0dPVVRcbiAgfTtcbn07XG5leHBvcnQgdmFyIGdldEZhY2Vib29rVXJsID0gZnVuY3Rpb24gZ2V0RmFjZWJvb2tVcmwoKSB7XG4gIHZhciBzdHJpbmdpZmllZFBhcmFtcyA9IHF1ZXJ5U3RyaW5nLnN0cmluZ2lmeSh7XG4gICAgY2xpZW50X2lkOiBwcm9jZXNzLmVudi5GQl9BUFBfSUQsXG4gICAgcmVkaXJlY3RfdXJpOiBwcm9jZXNzLmVudi5GQl9SRURJUkVDVF9VUkwsXG4gICAgc2NvcGU6IFwiZW1haWxcIixcbiAgICAvLyBjb21tYSBzZXBlcmF0ZWQgc3RyaW5nXG4gICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCIsXG4gICAgYXV0aF90eXBlOiBcInJlcmVxdWVzdFwiLFxuICAgIGRpc3BsYXk6IFwicG9wdXBcIlxuICB9KTtcbiAgcmV0dXJuIFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Y4LjAvZGlhbG9nL29hdXRoP1wiLmNvbmNhdChzdHJpbmdpZmllZFBhcmFtcyk7XG59O1xuZXhwb3J0IHZhciBnZXRHb29nbGVVcmwgPSBmdW5jdGlvbiBnZXRHb29nbGVVcmwoKSB7XG4gIHJldHVybiBBeGlvcy5nZXQoXCIvZ29vZ2xlL3VybFwiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG4gIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfSk7XG59O1xuZXhwb3J0IHZhciBzdGFydExvZ2luID0gZnVuY3Rpb24gc3RhcnRMb2dpbihlbWFpbCwgcGFzc3dvcmQsIHNldE1lc3NhZ2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCwgZ2V0U3RhdGUpIHtcbiAgICBBeGlvcy5wb3N0KFwiL2FwaS9sb2dpblwiLCB7XG4gICAgICBlbWFpbDogZW1haWwsXG4gICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSxcbiAgICAgICAgICB1c2VyID0gX3JlcyRkYXRhLnVzZXIsXG4gICAgICAgICAgdG9rZW4gPSBfcmVzJGRhdGEudG9rZW47XG4gICAgICBkaXNwYXRjaChsb2dpbih1c2VyLl9pZCwgdG9rZW4pKTtcbiAgICAgIHNldE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgY29udGVudDogXCJMb2dpbiBTdWNjZXNzZnVsbHkgISEhXCIsXG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgdmFyIGVycm9yID0gZS5yZXNwb25zZSAmJiBlLnJlc3BvbnNlLmRhdGEgJiYgZS5yZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgc2V0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgY29udGVudDogXCJcIi5jb25jYXQoZXJyb3IgfHwgZS5yZXNwb25zZS5zdGF0dXNUZXh0KSxcbiAgICAgICAgb3BlbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59O1xuZXhwb3J0IHZhciBzdGFydExvZ2luQWRtaW4gPSBmdW5jdGlvbiBzdGFydExvZ2luQWRtaW4oZW1haWwsIHBhc3N3b3JkLCBoaXN0b3J5LCBzZXRNZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIGdldFN0YXRlKSB7XG4gICAgQXhpb3MucG9zdChcIi9hcGkvYWRtaW4vbG9naW5cIiwge1xuICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICB2YXIgX3JlcyRkYXRhMiA9IHJlcy5kYXRhLFxuICAgICAgICAgIHVzZXIgPSBfcmVzJGRhdGEyLnVzZXIsXG4gICAgICAgICAgdG9rZW4gPSBfcmVzJGRhdGEyLnRva2VuO1xuICAgICAgZGlzcGF0Y2gobG9naW4odXNlci5faWQsIHRva2VuKSk7XG4gICAgICBzZXRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiTG9naW4gU3VjY2Vzc2Z1bGx5ICEhIVwiLFxuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGhpc3RvcnkucHVzaChcIi9cIik7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICB2YXIgZXJyb3IgPSBlLnJlc3BvbnNlICYmIGUucmVzcG9uc2UuZGF0YSAmJiBlLnJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICBzZXRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICBjb250ZW50OiBcIlwiLmNvbmNhdChlcnJvciB8fCBlLnJlc3BvbnNlLnN0YXR1c1RleHQpLFxuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbn07XG5leHBvcnQgdmFyIHN0YXJ0TG9naW5UaGlyZFBhcnR5ID0gZnVuY3Rpb24gc3RhcnRMb2dpblRoaXJkUGFydHkocGF0aCwgY29kZSwgaGlzdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoLCBnZXRTdGF0ZSkge1xuICAgIEF4aW9zLnBvc3QoXCIvYXBpL2xvZ2luXCIuY29uY2F0KHBhdGgpLCB7XG4gICAgICBjb2RlOiBjb2RlXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICB2YXIgX3JlcyRkYXRhMyA9IHJlcy5kYXRhLFxuICAgICAgICAgIHVzZXIgPSBfcmVzJGRhdGEzLnVzZXIsXG4gICAgICAgICAgdG9rZW4gPSBfcmVzJGRhdGEzLnRva2VuO1xuICAgICAgZGlzcGF0Y2gobG9naW4odXNlci5faWQsIHRva2VuKSk7XG4gICAgICBoaXN0b3J5LnB1c2goXCIvXCIpO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUucmVzcG9uc2UpO1xuICAgIH0pO1xuICB9O1xufTtcbmV4cG9ydCB2YXIgc3RhcnRTaWduVXAgPSBmdW5jdGlvbiBzdGFydFNpZ25VcChkYXRhLCBzZXRNZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIGdldFN0YXRlKSB7XG4gICAgQXhpb3MucG9zdChcIi9hcGkvdXNlcnNcIiwgX29iamVjdFNwcmVhZCh7fSwgZGF0YSkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgdmFyIF9yZXMkZGF0YTQgPSByZXMuZGF0YSxcbiAgICAgICAgICB1c2VyID0gX3JlcyRkYXRhNC51c2VyLFxuICAgICAgICAgIHRva2VuID0gX3JlcyRkYXRhNC50b2tlbjtcbiAgICAgIGRpc3BhdGNoKGxvZ2luKHVzZXIuX2lkLCB0b2tlbikpO1xuICAgICAgc2V0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxuICAgICAgICBjb250ZW50OiBcIlNpZ251cCBTdWNjZXNzZnVsbHkgISEhXCIsXG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBlcnJvciA9IGUucmVzcG9uc2UgJiYgZS5yZXNwb25zZS5kYXRhICYmIGUucmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgIHNldE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiXCIuY29uY2F0KGVycm9yIHx8IGUucmVzcG9uc2Uuc3RhdHVzVGV4dCksXG4gICAgICAgIG9wZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufTsiLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQXZhdGFyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9BdmF0YXJcIjtcbmltcG9ydCBDc3NCYXNlbGluZSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQ3NzQmFzZWxpbmVcIjtcbmltcG9ydCBQYXBlciBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvUGFwZXJcIjtcbmltcG9ydCBHcmlkIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9HcmlkXCI7XG5pbXBvcnQgTG9ja091dGxpbmVkSWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL0xvY2tPdXRsaW5lZFwiO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBTaWduVXBQYW5lbCBmcm9tIFwiLi9TaWduVXBQYW5lbFwiO1xuaW1wb3J0IExvZ2luUGFuZWwgZnJvbSBcIi4vTG9naW5QYW5lbFwiO1xuaW1wb3J0IHsgZ2V0RmFjZWJvb2tVcmwsIHN0YXJ0TG9naW4sIHN0YXJ0U2lnblVwLCBnZXRHb29nbGVVcmwgfSBmcm9tIFwiLi4vLi4vYWN0aW9uL2F1dGgvYXV0aFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xudmFyIGZhY2Vib29rVXJsID0gZ2V0RmFjZWJvb2tVcmwoKTtcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGhlaWdodDogXCIxMDB2aFwiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiBcInVybChodHRwczovL3NvdXJjZS51bnNwbGFzaC5jb20vcmFuZG9tKVwiLFxuICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSBcImxpZ2h0XCIgPyB0aGVtZS5wYWxldHRlLmdyZXlbNTBdIDogdGhlbWUucGFsZXR0ZS5ncmV5WzkwMF0sXG4gICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiLFxuICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBwYXBlcjoge1xuICAgICAgbWFyZ2luOiBcIjIwcHggMzVweFwiLFxuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgIH0sXG4gICAgYXZhdGFyOiB7XG4gICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW5cbiAgICB9XG4gIH07XG59KTtcblxudmFyIFN0YXJ0UGFnZSA9IGZ1bmN0aW9uIFN0YXJ0UGFnZShwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgcGFuZWwgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgU2V0UGFuZWwgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIGNvbXBvbmVudDogXCJtYWluXCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3RcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ3NzQmFzZWxpbmUsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogZmFsc2UsXG4gICAgc206IDQsXG4gICAgbWQ6IDcsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmltYWdlXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAgc206IDgsXG4gICAgbWQ6IDUsXG4gICAgY29tcG9uZW50OiBQYXBlcixcbiAgICBlbGV2YXRpb246IDYsXG4gICAgc3F1YXJlOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMucGFwZXJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQXZhdGFyLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmF2YXRhclxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2NrT3V0bGluZWRJY29uLCBudWxsKSksIHBhbmVsID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9naW5QYW5lbCwge1xuICAgIGZhY2Vib29rVXJsOiBmYWNlYm9va1VybCxcbiAgICBsb2dpbjogcHJvcHMuc3RhcnRMb2dpbixcbiAgICBnZXRHb29nbGVVcmw6IGdldEdvb2dsZVVybCxcbiAgICB0b1NpZ25VcDogZnVuY3Rpb24gdG9TaWduVXAoKSB7XG4gICAgICByZXR1cm4gU2V0UGFuZWwoZmFsc2UpO1xuICAgIH1cbiAgfSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTaWduVXBQYW5lbCwge1xuICAgIGZhY2Vib29rVXJsOiBmYWNlYm9va1VybCxcbiAgICBzaWdudXA6IHByb3BzLnN0YXJ0U2lnblVwLFxuICAgIGdldEdvb2dsZVVybDogZ2V0R29vZ2xlVXJsLFxuICAgIHRvTG9naW46IGZ1bmN0aW9uIHRvTG9naW4oKSB7XG4gICAgICByZXR1cm4gU2V0UGFuZWwodHJ1ZSk7XG4gICAgfVxuICB9KSkpKTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSB7XG4gIHN0YXJ0TG9naW46IHN0YXJ0TG9naW4sXG4gIHN0YXJ0U2lnblVwOiBzdGFydFNpZ25VcFxufTtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobnVsbCwgbWFwRGlzcGF0Y2hUb1Byb3BzKShTdGFydFBhZ2UpOyIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQmFja2Ryb3AgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQmFja2Ryb3AnO1xuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2lyY3VsYXJQcm9ncmVzcyc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IHN0YXJ0TG9naW5UaGlyZFBhcnR5IH0gZnJvbSAnLi4vLi4vYWN0aW9uL2F1dGgvYXV0aCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0ICogYXMgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJztcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIGJhY2tkcm9wOiB7XG4gICAgICB6SW5kZXg6IHRoZW1lLnpJbmRleC5kcmF3ZXIgKyAxLFxuICAgICAgY29sb3I6ICcjZmZmJ1xuICAgIH1cbiAgfTtcbn0pO1xuXG52YXIgTG9hZGluZ0xvZ2luID0gZnVuY3Rpb24gTG9hZGluZ0xvZ2luKHByb3BzKSB7XG4gIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKCk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmFtcyA9IHF1ZXJ5U3RyaW5nLnBhcnNlKHByb3BzLmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgdmFyIHBhdGggPSBwcm9wcy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnZ29vZ2xlJykgPyAnR29vZ2xlJyA6ICdGYWNlYm9vayc7XG4gICAgaWYgKHBhcmFtcy5lcnJvcikgcHJvcHMuaGlzdG9yeS5wdXNoKCcvJyk7ZWxzZSB7XG4gICAgICBwcm9wcy5sb2dpblRoaXJkUGFydHkocGF0aCwgcGFyYW1zLmNvZGUsIHByb3BzLmhpc3RvcnkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCYWNrZHJvcCwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5iYWNrZHJvcCxcbiAgICBvcGVuOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENpcmN1bGFyUHJvZ3Jlc3MsIHtcbiAgICBjb2xvcjogXCJpbmhlcml0XCJcbiAgfSkpKTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSB7XG4gIGxvZ2luVGhpcmRQYXJ0eTogc3RhcnRMb2dpblRoaXJkUGFydHlcbn07XG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG51bGwsIG1hcERpc3BhdGNoVG9Qcm9wcykod2l0aFJvdXRlcihMb2FkaW5nTG9naW4pKTsiLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHcmlkLCBtYWtlU3R5bGVzLCBUZXh0RmllbGQsIFR5cG9ncmFwaHksIEJ1dHRvbiwgRGlhbG9nLCBEaWFsb2dDb250ZW50IH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgeyBzdGFydExvZ2luQWRtaW4gfSBmcm9tIFwiLi4vLi4vYWN0aW9uL2F1dGgvYXV0aFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IEN1c3RvbWl6ZWRTbmFja2JhcnMgZnJvbSBcIi4uL2NvbW1vbi9DdXN0b21pemVkU25hY2tiYXJzXCI7XG5pbXBvcnQgU3VwZXJ2aXNvckFjY291bnRJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvU3VwZXJ2aXNvckFjY291bnRcIjtcbmltcG9ydCBBdmF0YXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0F2YXRhclwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0xpbmtcIjtcblxudmFyIEFkbWluTG9naW5QYW5lbCA9IGZ1bmN0aW9uIEFkbWluTG9naW5QYW5lbChwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgbWVzc2FnZSA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRNZXNzYWdlID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgaGFuZGxlU3VibWl0TG9naW4gPSBmdW5jdGlvbiBoYW5kbGVTdWJtaXRMb2dpbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBlbWFpbCA9IGUudGFyZ2V0LmVsZW1lbnRzLmVtYWlsLnZhbHVlO1xuICAgIHZhciBwYXNzd29yZCA9IGUudGFyZ2V0LmVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlO1xuICAgIHByb3BzLnN0YXJ0TG9naW5BZG1pbihlbWFpbCwgcGFzc3dvcmQsIHByb3BzLmhpc3RvcnksIHNldE1lc3NhZ2UpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIHN0eWxlOiB7XG4gICAgICBtaW5IZWlnaHQ6IFwiMTAwdmhcIlxuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCB7XG4gICAgb3BlbjogdHJ1ZSxcbiAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgbWF4V2lkdGg6IFwibGdcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2dDb250ZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5kaWFsb2dcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQXZhdGFyLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmF2YXRhclxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdXBlcnZpc29yQWNjb3VudEljb24sIG51bGwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwge1xuICAgIHZhcmlhbnQ6IFwiaDVcIixcbiAgICBjb2xvcjogXCJpbml0aWFsXCJcbiAgfSwgXCJXRUxDT01FXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgdmFyaWFudDogXCJib2R5MlwiLFxuICAgIGNvbG9yOiBcImluaXRpYWxcIlxuICB9LCBcIlBMRUFTRSBMT0dJTiBUTyBBRE1JTiBEQVNIQk9BUkRcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmZvcm0sXG4gICAgbm9WYWxpZGF0ZTogdHJ1ZSxcbiAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0TG9naW5cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCB7XG4gICAgaWQ6IFwiZW1haWxcIixcbiAgICBhdXRvQ29tcGxldGU6IFwiZW1haWxcIixcbiAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgbWFyZ2luOiBcIm5vcm1hbFwiLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGxhYmVsOiBcIkVtYWlsXCIsXG4gICAgdmFyaWFudDogXCJvdXRsaW5lZFwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50ZXh0RmlsZWRcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwge1xuICAgIGlkOiBcInBhc3N3b3JkXCIsXG4gICAgYXV0b0NvbXBsZXRlOiBcInBhc3N3b3JkXCIsXG4gICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgIG1hcmdpbjogXCJub3JtYWxcIixcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBsYWJlbDogXCJQYXNzd29yZFwiLFxuICAgIHZhcmlhbnQ6IFwib3V0bGluZWRcIixcbiAgICB0eXBlOiBcInBhc3N3b3JkXCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRleHRGaWxlZFxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJzdWJtaXRcIixcbiAgICB2YXJpYW50OiBcImNvbnRhaW5lZFwiLFxuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYnV0dG9uXG4gIH0sIFwiTG9nIEluXCIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBjb250YWluZXI6IHRydWUsXG4gICAganVzdGlmeTogXCJjZW50ZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgaHJlZjogXCIjXCIsXG4gICAgdmFyaWFudDogXCJib2R5MlwiXG4gIH0sIFwiRm9yZ290IHBhc3N3b3JkP1wiKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbWl6ZWRTbmFja2JhcnMsIHtcbiAgICBtZXNzYWdlOiBtZXNzYWdlXG4gIH0pKTtcbn07XG5cbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHdpZHRoOiA2MDAsXG4gICAgICBoZWlnaHQ6IFwiYXV0b1wiXG4gICAgfSxcbiAgICBkaWFsb2c6IHtcbiAgICAgIFwiJiA+ICpcIjoge1xuICAgICAgICBtYXJnaW46IFwiMTBweCAwXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIlxuICAgIH0sXG4gICAgdGV4dEZpbGVkOiB7XG4gICAgICB3aWR0aDogMzIwLFxuICAgICAgbWFyZ2luOiBcIjEwcHggYXV0b1wiXG4gICAgfSxcbiAgICBidXR0b246IHtcbiAgICAgIHdpZHRoOiBcIjUwJVwiLFxuICAgICAgbWFyZ2luOiBcIjEwcHggYXV0b1wiXG4gICAgfSxcbiAgICBhdmF0YXI6IHtcbiAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgIH1cbiAgfTtcbn0pO1xudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IHtcbiAgc3RhcnRMb2dpbkFkbWluOiBzdGFydExvZ2luQWRtaW5cbn07XG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG51bGwsIG1hcERpc3BhdGNoVG9Qcm9wcykoQWRtaW5Mb2dpblBhbmVsKTsiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxudmFyIE5vdEZvdW5kID0gZnVuY3Rpb24gTm90Rm91bmQocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiaGVhZGVyXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjb250YWluZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiaGVhZGVyX190aXRsZVwiXG4gIH0sIHByb3BzLnRpdGxlKSwgcHJvcHMuc3VidGl0bGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoMlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImhlYWRlcl9fc3VidGl0bGVcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgdG86IFwiL1wiXG4gIH0sIHByb3BzLnN1YnRpdGxlKSkpKTtcbn07XG5cbk5vdEZvdW5kLmRlZmF1bHRQcm9wcyA9IHtcbiAgdGl0bGU6IFwiS2jDtG5nIHTDrG0gdGjhuqV5IHRyYW5nIGPhuqduIHTDrG1cIixcbiAgc3VidGl0bGU6IFwiUXVheSBs4bqhaSB0cmFuZyBjaOG7p1wiXG59O1xuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oTm90Rm91bmQpOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcblxudmFyIFdTQ2xpZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gV1NDbGllbnQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdTQ2xpZW50KTtcblxuICAgIHRoaXMuc29ja2V0ID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhXU0NsaWVudCwgW3tcbiAgICBrZXk6IFwiY29ubmVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0KHVzZXJJZCkge1xuICAgICAgdGhpcy5zb2NrZXQgPSBpby5jb25uZWN0KFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL1wiLCB7XG4gICAgICAgIHF1ZXJ5OiBcInVzZXJJZD1cIiArIHVzZXJJZCxcbiAgICAgICAgc2VjdXJlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnRMaXN0ZW5VcGRhdGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0TGlzdGVuVXBkYXRlVXNlcihzZXRVc2VyT25saW5lKSB7XG4gICAgICB0aGlzLnNvY2tldC5vbihcInVwZGF0ZS11c2VyXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHNldFVzZXJPbmxpbmUoZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiam9pbkNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbkNoYW5uZWwoaWQpIHtcbiAgICAgIHRoaXMuc29ja2V0LmVtaXQoXCJqb2luLXJvb21cIiwgaWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsZWF2ZUNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmVDaGFubmVsKGlkKSB7XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KFwibGVhdmUtcm9vbVwiLCBpZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuc29ja2V0LmVtaXQoXCJzZW5kLWNoYXRcIiwgbWVzc2FnZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0TGlzdGVuVXBkYXRlQ2hhdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydExpc3RlblVwZGF0ZUNoYXQodXBkYXRlQ2hhdCkge1xuICAgICAgdGhpcy5zb2NrZXQub24oXCJuZXctbWVzc2FnZVwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgcm9vbUlEID0gZGF0YS5yb29tSUQsXG4gICAgICAgICAgICBtZXNzYWdlID0gZGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgdGltZXN0YW1wID0gZGF0YS50aW1lc3RhbXA7XG4gICAgICAgIHVwZGF0ZUNoYXQocm9vbUlELCBtZXNzYWdlLCBmYWxzZSwgdGltZXN0YW1wKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZW5kR2FtZURhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZEdhbWVEYXRhKGRhdGEpIHtcbiAgICAgIHRoaXMuc29ja2V0LmVtaXQoXCJzZW5kLWdhbWUtZGF0YVwiLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnRMaXN0ZW5VcGRhdGVHYW1lRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydExpc3RlblVwZGF0ZUdhbWVEYXRhKHVwZGF0ZUdhbWVEYXRlKSB7XG4gICAgICB0aGlzLnNvY2tldC5vbihcIm5ldy1nYW1lLWRhdGFcIiwgZnVuY3Rpb24gKGRhdGEpIHsvL3VwZGF0ZSBnYW1lRGF0YVJlZHVjZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaHV0ZG93bldTXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNodXRkb3duV1MoKSB7XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KFwic2VuZC1kaXNjb25uZWN0LXJlcXVlc3RcIik7XG4gICAgICB0aGlzLnNvY2tldCA9IG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFdTQ2xpZW50O1xufSgpO1xuXG52YXIgV1MgPSBuZXcgV1NDbGllbnQoKTtcbmV4cG9ydCBkZWZhdWx0IFdTOyIsImV4cG9ydCB2YXIgQUREX1JPT00gPSBcImFkZF9yb29tXCI7XG5leHBvcnQgdmFyIFJFTU9WRV9ST09NID0gXCJyZW1vdmVfcm9vbVwiO1xuZXhwb3J0IHZhciBBRERfUExBWUVSID0gXCJhZGRfcGxheWVyXCI7IiwiZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuaW1wb3J0IHsgQUREX1JPT00sIFJFTU9WRV9ST09NLCBBRERfUExBWUVSIH0gZnJvbSBcIi4vdHlwZVwiO1xuXG52YXIgX2NyZWF0ZUlEID0gZnVuY3Rpb24gX2NyZWF0ZUlEKCkge1xuICB2YXIgZ3VpZCA9ICd4eXh4eXgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsXG4gICAgICAgIHYgPSBjID09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG4gIHJldHVybiBndWlkLnRvVXBwZXJDYXNlKCk7XG59O1xuXG5leHBvcnQgdmFyIGFkZFJvb20gPSBmdW5jdGlvbiBhZGRSb29tKHBsYXllcklEKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUREX1JPT00sXG4gICAgcGF5bG9hZDoge1xuICAgICAgaWQ6IF9jcmVhdGVJRCgpLFxuICAgICAgcGxheWVyczogW3BsYXllcklEXVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIHJlbW92ZVJvb20gPSBmdW5jdGlvbiByZW1vdmVSb29tKGlkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVNT1ZFX1JPT00sXG4gICAgcGF5bG9hZDoge1xuICAgICAgaWQ6IGlkXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgYWRkUGxheWVyID0gZnVuY3Rpb24gYWRkUGxheWVyKGlkLCBwbGF5ZXJJRCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFERF9QTEFZRVIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgaWQ6IGlkLFxuICAgICAgcGxheWVySUQ6IHBsYXllcklEXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgam9pblJvb20gPSBmdW5jdGlvbiBqb2luUm9vbShpZCwgcGxheWVySUQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCwgZ2V0U3RhdGUpIHtcbiAgICB2YXIgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIHZhciBhdXRoID0gc3RhdGUuYXV0aCxcbiAgICAgICAgcm9vbSA9IHN0YXRlLnJvb207XG5cbiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocm9vbSksXG4gICAgICAgIF9zdGVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgaWYgKGl0ZW0uaWQgPT0gaWQgJiYgaXRlbS5wbGF5ZXJzLmxlbmd0aCA8IDIgJiYgIWF1dGguaW5Sb29tKSB7XG4gICAgICAgICAgZGlzcGF0Y2goYWRkUGxheWVyKGlkLCBwbGF5ZXJJRCkpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IuZigpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn07IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0J1dHRvblwiO1xuaW1wb3J0IEFkZEljb24gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9BZGRcIjtcbmltcG9ydCBHcmlkIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9HcmlkXCI7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9UZXh0RmllbGRcIjtcbmltcG9ydCBEaWFsb2cgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1wiO1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0FjdGlvbnNcIjtcbmltcG9ydCBEaWFsb2dDb250ZW50IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50XCI7XG5pbXBvcnQgRGlhbG9nQ29udGVudFRleHQgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0NvbnRlbnRUZXh0XCI7XG5pbXBvcnQgRGlhbG9nVGl0bGUgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1RpdGxlXCI7XG5pbXBvcnQgeyBhZGRSb29tIH0gZnJvbSAnLi4vLi4vYWN0aW9uL3Jvb20vYWN0aW9uJztcbmltcG9ydCB7IGpvaW5TdGF0ZSB9IGZyb20gJy4uLy4uL2FjdGlvbi9hdXRoL2F1dGgnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBXU0NsaWVudCBmcm9tICcuLi8uLi9zb2NrZXQvY2xpZW50JztcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIGJ1dHRvbjoge1xuICAgICAgbWFyZ2luOiBcIjEwcHggMjBweFwiXG4gICAgfSxcbiAgICBkaWFsb2c6IHtcbiAgICAgIG1pbldpZHRoOiAyMDBcbiAgICB9XG4gIH07XG59KTtcblxudmFyIEFkZFJvb21CdG4gPSBmdW5jdGlvbiBBZGRSb29tQnRuKHByb3BzKSB7XG4gIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgb3BlbiA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRPcGVuID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgaGFuZGxlQ2xpY2tPcGVuID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2tPcGVuKCkge1xuICAgIHNldE9wZW4odHJ1ZSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUNsb3NlID0gZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7XG4gICAgc2V0T3BlbihmYWxzZSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHtcbiAgICBzZXRPcGVuKGZhbHNlKTtcblxuICAgIGlmICghcHJvcHMuYnVzeSkge1xuICAgICAgdmFyIGRhdGEgPSBwcm9wcy5hZGRSb29tKHByb3BzLnVzZXJJZCk7XG4gICAgICBXU0NsaWVudC5qb2luQ2hhbm5lbChkYXRhLnBheWxvYWQuaWQpO1xuICAgICAgcHJvcHMuam9pblN0YXRlKCk7XG4gICAgICBwcm9wcy5oaXN0b3J5LnB1c2goJy9yb29tLycgKyBkYXRhLnBheWxvYWQuaWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGl0ZW06IHRydWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgb25DbGljazogaGFuZGxlQ2xpY2tPcGVuLFxuICAgIHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsXG4gICAgY29sb3I6IFwicHJpbWFyeVwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b24sXG4gICAgc3RhcnRJY29uOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBZGRJY29uLCBudWxsKVxuICB9LCBcIkFkZCBuZXcgcm9vbVwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCB7XG4gICAgb3Blbjogb3BlbixcbiAgICBvbkNsb3NlOiBoYW5kbGVDbG9zZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuZGlhbG9nXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ1RpdGxlLCB7XG4gICAgaWQ6IFwiZm9ybS1kaWFsb2ctdGl0bGVcIlxuICB9LCBcIkFkZCBuZXcgcm9vbVwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9ucywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgb25DbGljazogaGFuZGxlU3VibWl0LFxuICAgIHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsXG4gICAgY29sb3I6IFwicHJpbWFyeVwiXG4gIH0sIFwiQ3JlYXRlXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVDbG9zZSxcbiAgICBjb2xvcjogXCJwcmltYXJ5XCJcbiAgfSwgXCJDYW5jZWxcIikpKSk7XG59O1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgYnVzeTogc3RhdGUuYXV0aC5pblJvb21cbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSB7XG4gIGFkZFJvb206IGFkZFJvb20sXG4gIGpvaW5TdGF0ZTogam9pblN0YXRlXG59O1xuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykod2l0aFJvdXRlcihBZGRSb29tQnRuKSk7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0J1dHRvblwiO1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkXCI7XG5pbXBvcnQgeyBHcmlkIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgeyBhZGRQbGF5ZXIgfSBmcm9tICcuLi8uLi9hY3Rpb24vcm9vbS9hY3Rpb24nO1xuaW1wb3J0IHsgam9pblN0YXRlIH0gZnJvbSAnLi4vLi4vYWN0aW9uL2F1dGgvYXV0aCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IFdTQ2xpZW50IGZyb20gXCIuLi8uLi9zb2NrZXQvY2xpZW50XCI7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBidXR0b246IHtcbiAgICAgIG1hcmdpbjogXCIxMHB4IDIwcHhcIlxuICAgIH1cbiAgfTtcbn0pO1xuXG52YXIgSm9pblJvb21CdG4gPSBmdW5jdGlvbiBKb2luUm9vbUJ0bihwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuICB2YXIgcm9vbUlkUmVmID0gdXNlUmVmKCk7XG5cbiAgdmFyIGhhbmRsZUpvaW5Sb29tID0gZnVuY3Rpb24gaGFuZGxlSm9pblJvb20oKSB7XG4gICAgaWYgKCFwcm9wcy5idXN5KSB7XG4gICAgICB2YXIgaWQgPSByb29tSWRSZWYuY3VycmVudC52YWx1ZTtcbiAgICAgIFdTQ2xpZW50LmpvaW5DaGFubmVsKGlkKTtcbiAgICAgIHByb3BzLmFkZFBsYXllcihpZCwgcHJvcHMudXNlcklkKTtcbiAgICAgIHByb3BzLmpvaW5TdGF0ZSgpO1xuICAgICAgcHJvcHMuaGlzdG9yeS5wdXNoKCcvcm9vbS8nICsgaWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGl0ZW06IHRydWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCB7XG4gICAgaWQ6IFwicm9vbUlkXCIsXG4gICAgc2l6ZTogXCJzbWFsbFwiLFxuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIGxhYmVsOiBcIlJvb20gSURcIixcbiAgICBpbnB1dFJlZjogcm9vbUlkUmVmXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB2YXJpYW50OiBcImNvbnRhaW5lZFwiLFxuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYnV0dG9uLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUpvaW5Sb29tXG4gIH0sIFwiSm9pbiByb29tXCIpKTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSB7XG4gIGFkZFBsYXllcjogYWRkUGxheWVyLFxuICBqb2luU3RhdGU6IGpvaW5TdGF0ZVxufTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGJ1c3k6IHN0YXRlLmF1dGguaW5Sb29tXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKSh3aXRoUm91dGVyKEpvaW5Sb29tQnRuKSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9DYXJkXCI7XG5pbXBvcnQgQ2FyZEhlYWRlciBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZEhlYWRlclwiO1xuaW1wb3J0IENhcmRBY3Rpb25zIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9DYXJkQWN0aW9uc1wiO1xuaW1wb3J0IEF2YXRhciBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQXZhdGFyXCI7XG5pbXBvcnQgeyByZWQgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzXCI7XG5pbXBvcnQgeyBHcmlkIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b25cIjtcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgYWRkUGxheWVyIH0gZnJvbSAnLi4vLi4vYWN0aW9uL3Jvb20vYWN0aW9uJztcbmltcG9ydCB7IGpvaW5TdGF0ZSB9IGZyb20gJy4uLy4uL2FjdGlvbi9hdXRoL2F1dGgnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBXU0NsaWVudCBmcm9tIFwiLi4vLi4vc29ja2V0L2NsaWVudFwiO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgcm9vdDoge30sXG4gICAgYXZhdGFyOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHJlZFs1MDBdXG4gICAgfSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgfVxuICB9O1xufSk7XG5cbnZhciBSb29tRGV0YWlsID0gZnVuY3Rpb24gUm9vbURldGFpbChwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcblxuICB2YXIgam9pbiA9IGZ1bmN0aW9uIGpvaW4oKSB7XG4gICAgaWYgKCFwcm9wcy5idXN5KSB7XG4gICAgICBXU0NsaWVudC5qb2luQ2hhbm5lbCgpO1xuICAgICAgcHJvcHMuam9pblN0YXRlKCk7XG4gICAgICBwcm9wcy5hZGRQbGF5ZXIocHJvcHMuaWQsIHByb3BzLnVzZXJJZCk7XG4gICAgICBoaXN0b3J5LnB1c2goXCIvcm9vbS9cIiArIHByb3BzLmlkKTtcbiAgICB9IGVsc2UgaWYgKHByb3BzLnBsYXllcnMgPj0gMikgey8va2jDtG5nIG5o4bqtbiB0aMOqbSBwbGF5ZXIuXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogNCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMucm9vdFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXJkSGVhZGVyLCB7XG4gICAgYXZhdGFyOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBdmF0YXIsIHtcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcInJlY2lwZVwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLmF2YXRhclxuICAgIH0sIFwiUlwiKSAvLyAgIGFjdGlvbj17XG4gICAgLy8gICAgIDxJY29uQnV0dG9uIGFyaWEtbGFiZWw9XCJzZXR0aW5nc1wiPlxuICAgIC8vICAgICAgIDxNb3JlVmVydEljb24gLz5cbiAgICAvLyAgICAgPC9JY29uQnV0dG9uPlxuICAgIC8vICAgfVxuICAgICxcbiAgICB0aXRsZTogXCJSb29tIElEOiBcIiArIHByb3BzLmlkLFxuICAgIHN1YmhlYWRlcjogcHJvcHMucGxheWVycyArIFwiLzIgcGxheWVyXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENhcmRBY3Rpb25zLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvbnMsXG4gICAgZGlzYWJsZVNwYWNpbmc6IHRydWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgb25DbGljazogam9pbixcbiAgICB2YXJpYW50OiBcImNvbnRhaW5lZFwiLFxuICAgIGNvbG9yOiBcInByaW1hcnlcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYnV0dG9uXG4gIH0sIFwiSm9pbiByb29tXCIpKSkpO1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IHtcbiAgYWRkUGxheWVyOiBhZGRQbGF5ZXIsXG4gIGpvaW5TdGF0ZTogam9pblN0YXRlXG59O1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgYnVzeTogc3RhdGUuYXV0aC5pblJvb21cbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKHdpdGhSb3V0ZXIoUm9vbURldGFpbCkpOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzXCI7XG5pbXBvcnQgY2xzeCBmcm9tIFwiY2xzeFwiO1xuaW1wb3J0IENhcmQgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0NhcmRcIjtcbmltcG9ydCBDYXJkSGVhZGVyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9DYXJkSGVhZGVyXCI7XG5pbXBvcnQgQ2FyZE1lZGlhIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9DYXJkTWVkaWFcIjtcbmltcG9ydCBDYXJkQ29udGVudCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZENvbnRlbnRcIjtcbmltcG9ydCBDYXJkQWN0aW9ucyBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZEFjdGlvbnNcIjtcbmltcG9ydCBDb2xsYXBzZSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvQ29sbGFwc2VcIjtcbmltcG9ydCBBdmF0YXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0F2YXRhclwiO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b25cIjtcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5XCI7XG5pbXBvcnQgeyByZWQgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzXCI7XG5pbXBvcnQgRmF2b3JpdGVJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvRmF2b3JpdGVcIjtcbmltcG9ydCBTaGFyZUljb24gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9TaGFyZVwiO1xuaW1wb3J0IEV4cGFuZE1vcmVJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvRXhwYW5kTW9yZVwiO1xuaW1wb3J0IE1vcmVWZXJ0SWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL01vcmVWZXJ0XCI7XG5pbXBvcnQgeyBHcmlkIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgQWRkUm9vbUJ0biBmcm9tIFwiLi9BZGRSb29tQnRuXCI7XG5pbXBvcnQgSm9pblJvb21CdG4gZnJvbSBcIi4vSm9pblJvb21CdG5cIjtcbmltcG9ydCBSb29tRGV0YWlsIGZyb20gXCIuL1Jvb21EZXRhaWxcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgV1NDbGllbnQgZnJvbSAnLi4vLi4vc29ja2V0L2NsaWVudCc7XG5pbXBvcnQgV1MgZnJvbSBcIi4uLy4uL3NvY2tldC9jbGllbnRcIjtcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGJvcmRlclJpZ2h0OiBcIjVweCBzb2xpZCAjZDJkMmQyXCIsXG4gICAgICBwYWRkaW5nOiAyMFxuICAgIH0sXG4gICAgZnVuY3Rpb25CdG46IHtcbiAgICAgIG1hcmdpbjogXCIxMHB4IDBcIixcbiAgICAgIGJhY2tncm91bmQ6IFwiI2VlZVwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjAuOHJlbVwiXG4gICAgfSxcbiAgICByb29tOiB7XG4gICAgICBwYWRkaW5nOiAxMCxcbiAgICAgIGJhY2tncm91bmQ6IFwiI2VlZVwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjAuOHJlbVwiLFxuICAgICAgbWFyZ2luOiAwXG4gICAgfVxuICB9O1xufSk7XG5cbnZhciBMaXN0Um9vbSA9IGZ1bmN0aW9uIExpc3RSb29tKHByb3BzKSB7XG4gIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5yb290XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBjb250YWluZXI6IHRydWUsXG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGp1c3RpZnk6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5mdW5jdGlvbkJ0blxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBZGRSb29tQnRuLCB7XG4gICAgdXNlcklkOiBwcm9wcy51c2VySWRcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEpvaW5Sb29tQnRuLCB7XG4gICAgdXNlcklkOiBwcm9wcy51c2VySWRcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIGl0ZW06IHRydWUsXG4gICAgeHM6IDEyLFxuICAgIHNwYWNpbmc6IDIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb21cbiAgfSwgcHJvcHMucm9vbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvb21EZXRhaWwsIHtcbiAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgcGxheWVyczogaXRlbS5wbGF5ZXJzLmxlbmd0aCxcbiAgICAgIHVzZXJJZDogcHJvcHMudXNlcklkXG4gICAgfSk7XG4gIH0pKSk7XG59O1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgcm9vbXM6IHN0YXRlLnJvb21cbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShMaXN0Um9vbSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR3JpZCwgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZVwiO1xuaW1wb3J0IEFjY291bnRDaXJjbGVJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvQWNjb3VudENpcmNsZVwiO1xuaW1wb3J0IEZpYmVyTWFudWFsUmVjb3JkSWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL0ZpYmVyTWFudWFsUmVjb3JkXCI7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICBtYXJnaW46IDUsXG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCJcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCJcbiAgICB9LFxuICAgIGluZm86IHtcbiAgICAgIG1hcmdpbjogXCJhdXRvIDVweFwiXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgIGNvbG9yOiBcIiM0MWVlNDFcIixcbiAgICAgIGhlaWdodDogMTAsXG4gICAgICB3aWR0aDogMTAsXG4gICAgICBtYXJnaW46IFwiYXV0byA1cHhcIlxuICAgIH1cbiAgfTtcbn0pO1xuXG52YXIgUGxheWVyRGV0YWlsID0gZnVuY3Rpb24gUGxheWVyRGV0YWlsKHByb3BzKSB7XG4gIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5yb290XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMubGFiZWxcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjb3VudENpcmNsZUljb24sIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmluZm9cbiAgfSwgcHJvcHMubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaWJlck1hbnVhbFJlY29yZEljb24sIHtcbiAgICBzaXplOiBcInNtYWxsXCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN0YXR1c1xuICB9KSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyRGV0YWlsOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdyaWQsIG1ha2VTdHlsZXMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmVcIjtcbmltcG9ydCBQbGF5ZXJEZXRhaWwgZnJvbSBcIi4vUGxheWVyRGV0YWlsXCI7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICByb290OiB7fSxcbiAgICB0aXRsZToge1xuICAgICAgbWFyZ2luOiAxMCxcbiAgICAgIGZvbnRTaXplOiAxOCxcbiAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiXG4gICAgfVxuICB9O1xufSk7XG5cbnZhciBMaXN0UGxheWVyID0gZnVuY3Rpb24gTGlzdFBsYXllcihwcm9wcykge1xuICB2YXIgdXNlciA9IHByb3BzLnVzZXI7XG4gIGNvbnNvbGUubG9nKHVzZXIpO1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMucm9vdFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRpdGxlXG4gIH0sIFwiVG90YWw6IFwiLCB1c2VyLmxlbmd0aCwgXCIgb25saW5lXCIpLCB1c2VyLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQbGF5ZXJEZXRhaWwsIHtcbiAgICAgIG5hbWU6IGl0ZW1cbiAgICB9KTtcbiAgfSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdFBsYXllcjsiLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBDb3B5cmlnaHQgZnJvbSBcIi4vY29tbW9uL0NvcHlyaWdodFwiO1xuaW1wb3J0IFdTQ2xpZW50IGZyb20gXCIuLi9zb2NrZXQvY2xpZW50XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBHcmlkIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgTGlzdFJvb20gZnJvbSBcIi4vcm9vbS9MaXN0Um9vbVwiO1xuaW1wb3J0IExpc3RQbGF5ZXIgZnJvbSBcIi4vcGxheWVyL0xpc3RQbGF5ZXJcIjtcblxudmFyIE1haW5QYWdlID0gZnVuY3Rpb24gTWFpblBhZ2UocHJvcHMpIHtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgdXNlciA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRVc2VyID0gX3VzZVN0YXRlMlsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIFdTQ2xpZW50LmNvbm5lY3QocHJvcHMudXNlcklkKTtcbiAgICBXU0NsaWVudC5zdGFydExpc3RlblVwZGF0ZVVzZXIoc2V0VXNlcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIFdTQ2xpZW50LnNodXRkb3duV1MoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGNvbnRhaW5lcjogdHJ1ZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAgbWQ6IDEwXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpc3RSb29tLCB7XG4gICAgdXNlcklkOiBwcm9wcy51c2VySWRcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAgbWQ6IDJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdFBsYXllciwge1xuICAgIHVzZXI6IHVzZXJcbiAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29weXJpZ2h0LCBudWxsKSkpO1xufTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXJJZDogc3RhdGUuYXV0aC5pZFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKE1haW5QYWdlKTsiLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBBcHBCYXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0FwcEJhclwiO1xuaW1wb3J0IFRvb2xiYXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1Rvb2xiYXJcIjtcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5XCI7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvblwiO1xuaW1wb3J0IEFjY291bnRDaXJjbGUgZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9BY2NvdW50Q2lyY2xlXCI7XG5pbXBvcnQgTWVudUl0ZW0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL01lbnVJdGVtXCI7XG5pbXBvcnQgUG9wcGVyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9Qb3BwZXJcIjtcbmltcG9ydCBHcm93IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9Hcm93XCI7XG5pbXBvcnQgUGFwZXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1BhcGVyXCI7XG5pbXBvcnQgTWVudUxpc3QgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL01lbnVMaXN0XCI7XG5pbXBvcnQgQ2xpY2tBd2F5TGlzdGVuZXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0NsaWNrQXdheUxpc3RlbmVyXCI7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgeyBMaW5rIGFzIFJvdXRlckxpbmssIHVzZUhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgZmxleEdyb3c6IDEsXG4gICAgICBcIiY+aGVhZGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMyMTk2RjNcIlxuICAgICAgfVxuICAgIH0sXG4gICAgbWVudUJ1dHRvbjoge1xuICAgICAgbWFyZ2luUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMilcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICBmbGV4R3JvdzogMSxcbiAgICAgIGZvbnRTaXplOiAyNCxcbiAgICAgIGZvbnRGYW1pbHk6IFwiUGxheWJhbGxcIixcbiAgICAgIFwiJiA+IGFcIjoge1xuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICBcIiY6aG92ZXJcIjoge1xuICAgICAgICAgIHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufSk7XG5cbnZhciBIZWFkZXIgPSBmdW5jdGlvbiBIZWFkZXIocHJvcHMpIHtcbiAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMoKTtcbiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgb3BlbiA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRPcGVuID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgYW5jaG9yUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHZhciBoYW5kbGVUb2dnbGUgPSBmdW5jdGlvbiBoYW5kbGVUb2dnbGUoKSB7XG4gICAgc2V0T3BlbihmdW5jdGlvbiAocHJldk9wZW4pIHtcbiAgICAgIHJldHVybiAhcHJldk9wZW47XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUNsb3NlID0gZnVuY3Rpb24gaGFuZGxlQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoYW5jaG9yUmVmLmN1cnJlbnQgJiYgYW5jaG9yUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldE9wZW4oZmFsc2UpO1xuICB9OyAvLyByZXR1cm4gZm9jdXMgdG8gdGhlIGJ1dHRvbiB3aGVuIHdlIHRyYW5zaXRpb25lZCBmcm9tICFvcGVuIC0+IG9wZW5cblxuXG4gIHZhciBwcmV2T3BlbiA9IHVzZVJlZihvcGVuKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJldk9wZW4uY3VycmVudCA9PT0gdHJ1ZSAmJiBvcGVuID09PSBmYWxzZSkge1xuICAgICAgYW5jaG9yUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBwcmV2T3Blbi5jdXJyZW50ID0gb3BlbjtcbiAgfSwgW29wZW5dKTtcblxuICB2YXIgaGFuZGxlU2lnbm91dCA9IGZ1bmN0aW9uIGhhbmRsZVNpZ25vdXQoKSB7XG4gICAgY29uc29sZS5sb2coXCJMT0dPVVRcIik7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3RcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwQmFyLCB7XG4gICAgcG9zaXRpb246IFwic3RhdGljXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwge1xuICAgIHZhcmlhbnQ6IFwiaDZcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMudGl0bGVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGluaywge1xuICAgIGNvbXBvbmVudDogUm91dGVyTGluayxcbiAgICB0bzogXCIvXCJcbiAgfSwgXCJDYXJvIE9ubGluZVwiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHtcbiAgICByZWY6IGFuY2hvclJlZixcbiAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGUsXG4gICAgY29sb3I6IFwiaW5oZXJpdFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFjY291bnRDaXJjbGUsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgdmFyaWFudDogXCJzdWJ0aXRsZTJcIixcbiAgICBjb2xvcjogXCJpbml0aWFsXCJcbiAgfSwgXCJNeSBOYW1lXCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wcGVyLCB7XG4gICAgb3Blbjogb3BlbixcbiAgICBhbmNob3JFbDogYW5jaG9yUmVmLmN1cnJlbnQsXG4gICAgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIixcbiAgICB0cmFuc2l0aW9uOiB0cnVlXG4gIH0sIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIFRyYW5zaXRpb25Qcm9wcyA9IF9yZWYuVHJhbnNpdGlvblByb3BzO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcm93LCBUcmFuc2l0aW9uUHJvcHMsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBhcGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDbGlja0F3YXlMaXN0ZW5lciwge1xuICAgICAgb25DbGlja0F3YXk6IGhhbmRsZUNsb3NlXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUxpc3QsIHtcbiAgICAgIGF1dG9Gb2N1c0l0ZW06IG9wZW4sXG4gICAgICBpZDogXCJtZW51LWxpc3QtZ3Jvd1wiXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIHtcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBoaXN0b3J5LnB1c2goXCIvcHJvZmlsZVwiKTtcbiAgICAgIH1cbiAgICB9LCBcIlByb2ZpbGVcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVJdGVtLCB7XG4gICAgICBvbkNsaWNrOiBoYW5kbGVTaWdub3V0XG4gICAgfSwgXCJMb2dvdXRcIikpKSkpO1xuICB9KSkpKSksIHByb3BzLmNoaWxkcmVuKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgU3F1YXJlID0gZnVuY3Rpb24gU3F1YXJlKHByb3BzKSB7XG4gIHZhciB3aW5TcXVhcmUgPSBwcm9wcy53aW5uaW5nICYmIHByb3BzLndpbm5pbmcubGluZS5pbmNsdWRlcyhwcm9wcy5pZCkgPyBcInNxdWFyZSBzcXVhcmUtd2lubmluZ1wiIDogXCJzcXVhcmVcIjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IHdpblNxdWFyZSxcbiAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrXG4gIH0sIHByb3BzLnZhbHVlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNxdWFyZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNxdWFyZSBmcm9tICcuL1NxdWFyZSc7XG5pbXBvcnQgY2h1bmsgZnJvbSBcImxvZGFzaC9jaHVua1wiO1xuXG52YXIgQm9hcmRWaWV3ID0gZnVuY3Rpb24gQm9hcmRWaWV3KHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBjaHVuayhwcm9wcy5zcXVhcmVzLCBwcm9wcy5zaXplKS5tYXAoZnVuY3Rpb24gKHJvdywgaSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IGksXG4gICAgICBjbGFzc05hbWU6IFwiYm9hcmQtcm93XCJcbiAgICB9LCByb3cubWFwKGZ1bmN0aW9uIChzcXVhcmUsIGopIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTcXVhcmUsIHtcbiAgICAgICAga2V5OiBqICsgaSAqIHByb3BzLnNpemUsXG4gICAgICAgIHZhbHVlOiBzcXVhcmUsXG4gICAgICAgIGlkOiBqICsgaSAqIHByb3BzLnNpemUsXG4gICAgICAgIHdpbm5pbmc6IHByb3BzLndpbm5pbmcsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BzLmhhbmRsZUNsaWNrKGksIGopO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH0pKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJvYXJkVmlldzsiLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuXG4vKipcclxuICogQHBhcmFtIEFycmF5KDkpXHJcbiAqIEZ1bmN0aW9uIGhlbHAgZmluZCB3aG8gd2lubmVyIGluIFRpYy10YWMtdG9lIGdhbWVzICgzeDMgYm9hcmQpXHJcbiAqIGJhc2Ugb24gZGF0YSBzdG9yZSBpbiBhbiAxLWRpbWVuc2lvbmFsIGFycmF5IHdpdGggOSBlbGVtZW50c1xyXG4gKiBQbGF5ZXItc2lnbmFsIHN0b3JlIGFzIGRhdGEgaW4gZWFjaCBlbGVtZW50IG9mIGFycmF5XHJcbiAqIEByZXR1cm5zIFRoZSB3aW5uZXIvbnVsbChub3QgZW5kIGdhbWUgeWV0KVxyXG4gKi9cbnZhciBjYWxjdWxhdGVXaW5uZXIgPSBmdW5jdGlvbiBjYWxjdWxhdGVXaW5uZXIoc3F1YXJlcykge1xuICB2YXIgbGluZXMgPSBbWzAsIDEsIDJdLCBbMywgNCwgNV0sIFs2LCA3LCA4XSwgWzAsIDMsIDZdLCBbMSwgNCwgN10sIFsyLCA1LCA4XSwgWzAsIDQsIDhdLCBbMiwgNCwgNl1dO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX2xpbmVzJGkgPSBfc2xpY2VkVG9BcnJheShsaW5lc1tpXSwgMyksXG4gICAgICAgIGEgPSBfbGluZXMkaVswXSxcbiAgICAgICAgYiA9IF9saW5lcyRpWzFdLFxuICAgICAgICBjID0gX2xpbmVzJGlbMl07XG5cbiAgICBpZiAoc3F1YXJlc1thXSAmJiBzcXVhcmVzW2FdID09PSBzcXVhcmVzW2JdICYmIHNxdWFyZXNbYV0gPT09IHNxdWFyZXNbY10pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmU6IGxpbmVzW2ldLnNsaWNlKCksXG4gICAgICAgIHdpbm5lcjogc3F1YXJlc1thXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNhbGN1bGF0ZVdpbm5lcjsiLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHcmlkLCBtYWtlU3R5bGVzLCBUeXBvZ3JhcGh5LCBCdXR0b24gfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmVcIjtcbmltcG9ydCBCb2FyZFZpZXcgZnJvbSBcIi4vQm9hcmRWaWV3XCI7XG5pbXBvcnQgY2FsY3VsYXRlV2lubmVyIGZyb20gJy4uLy4uL2dhbWUtbG9naWMvY2FsY3VsYXRlV2lubmVyJztcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKHtcbiAgcm9vdDoge1xuICAgIG1hcmdpbjogNDBcbiAgfSxcbiAgYm9hcmQ6IHtcbiAgICBwYWRkaW5nOiBcIjEwcHggNjBweFwiLFxuICAgIGJhY2tncm91bmQ6IFwiI2QyZDJkMlwiLFxuICAgIGJvcmRlclJhZGl1czogMTJcbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgcGFkZGluZzogXCIwcHggNTBweFwiXG4gIH1cbn0pO1xuXG52YXIgQm9hcmQgPSBmdW5jdGlvbiBCb2FyZChwcm9wcykge1xuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuICB2YXIgcGxheWVycyA9IFsnWCcsICdPJ107XG4gIHZhciBzaXplID0gMztcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW3tcbiAgICBzcXVhcmVzOiBBcnJheShzaXplICogc2l6ZSkuZmlsbChudWxsKSxcbiAgICBzdGF0dXM6ICcnXG4gIH1dKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgaGlzdG9yeSA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRIaXN0b3J5ID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKHBsYXllcnNbMF0pLFxuICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgICAgbm93UGxheWluZyA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXROb3dQbGF5aW5nID0gX3VzZVN0YXRlNFsxXTtcblxuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKCcnKSxcbiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSxcbiAgICAgIG5vd1RpY2tpbmcgPSBfdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0Tm93VGlja2luZyA9IF91c2VTdGF0ZTZbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSxcbiAgICAgIHdpbm5pbmcgPSBfdXNlU3RhdGU4WzBdLFxuICAgICAgc2V0V2lubmluZyA9IF91c2VTdGF0ZThbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTkgPSB1c2VTdGF0ZSgwKSxcbiAgICAgIF91c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlOSwgMiksXG4gICAgICBzdGVwID0gX3VzZVN0YXRlMTBbMF0sXG4gICAgICBzZXRTdGVwID0gX3VzZVN0YXRlMTBbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTExID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX3VzZVN0YXRlMTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUxMSwgMiksXG4gICAgICBzb3J0ID0gX3VzZVN0YXRlMTJbMF0sXG4gICAgICBzZXRTb3J0ID0gX3VzZVN0YXRlMTJbMV07XG5cbiAgdmFyIF9oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGksIGopIHtcbiAgICB2YXIgaWQgPSBpICogc2l6ZSArIGo7XG4gICAgdmFyIHRpY2tJbiA9IFwie1wiLmNvbmNhdChpLCBcIjtcIikuY29uY2F0KGosIFwifVwiKTtcbiAgICB2YXIgY3VySGlzdG9yeSA9IGhpc3Rvcnkuc2xpY2UoMCwgc3RlcCArIDEpO1xuICAgIHZhciBjdXJTdGVwID0gY3VySGlzdG9yeS5sZW5ndGg7XG4gICAgdmFyIHNxdWFyZXMgPSBjdXJIaXN0b3J5W2N1clN0ZXAgLSAxXS5zcXVhcmVzLnNsaWNlKCk7XG5cbiAgICBpZiAoY2FsY3VsYXRlV2lubmVyKHNxdWFyZXMpIHx8IHNxdWFyZXNbaWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3F1YXJlc1tpZF0gPSBub3dQbGF5aW5nO1xuICAgIHZhciBpc1dpbiA9IGNhbGN1bGF0ZVdpbm5lcihzcXVhcmVzKTtcbiAgICBzZXRIaXN0b3J5KGN1ckhpc3RvcnkuY29uY2F0KHtcbiAgICAgIHNxdWFyZXM6IHNxdWFyZXMsXG4gICAgICBzdGF0dXM6IHRpY2tJblxuICAgIH0pKTtcbiAgICBzZXROb3dQbGF5aW5nKHBsYXllcnNbY3VyU3RlcCAlIDJdKTtcbiAgICBzZXROb3dUaWNraW5nKHRpY2tJbik7XG4gICAgaWYgKGlzV2luKSBzZXRXaW5uaW5nKGlzV2luKTtcbiAgICBzZXRTdGVwKGN1clN0ZXApO1xuICB9O1xuXG4gIHZhciBnZXRHYW1lU3RhdHVzID0gZnVuY3Rpb24gZ2V0R2FtZVN0YXR1cygpIHtcbiAgICB2YXIgaXNXaW4gPSB3aW5uaW5nO1xuXG4gICAgaWYgKGlzV2luKSB7XG4gICAgICByZXR1cm4gJ1dpbm5lcjogJyArIGlzV2luLndpbm5lcjtcbiAgICB9IGVsc2UgaWYgKHN0ZXAgPj0gOSkge1xuICAgICAgcmV0dXJuICdUd28gcGxheWVyIGRyYXchJztcbiAgICB9IGVsc2UgcmV0dXJuICdOZXh0IHBsYXllcjogJyArIG5vd1BsYXlpbmc7XG4gIH07XG5cbiAgdmFyIGFsbE1vdmVCdXR0b24gPSBmdW5jdGlvbiBhbGxNb3ZlQnV0dG9uKCkge1xuICAgIHZhciBhbGxNb3ZlcyA9IGhpc3RvcnkubWFwKGZ1bmN0aW9uIChzdGVwLCBpKSB7XG4gICAgICB2YXIgZGVzYyA9IGkgPyBcIkdvIHRvIG1vdmUgI1wiLmNvbmNhdChpLCBcIjsgVGljayBhdCBcIikuY29uY2F0KHN0ZXAuc3RhdHVzKSA6ICdHbyB0byBnYW1lIHN0YXJ0JztcbiAgICAgIGlmIChpID09PSBzdGVwKSBkZXNjID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiXCIsIG51bGwsIGRlc2MpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICBrZXk6IGlcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4ganVtcFRvKGkpO1xuICAgICAgICB9XG4gICAgICB9LCBkZXNjKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNvcnQgPyBhbGxNb3Zlcy5yZXZlcnNlKCkgOiBhbGxNb3ZlcztcbiAgfTtcblxuICB2YXIgZ2V0VHVyblN0YXR1cyA9IGZ1bmN0aW9uIGdldFR1cm5TdGF0dXMoKSB7XG4gICAgcmV0dXJuIG5vd1RpY2tpbmcgIT09ICcnID8gXCJcIi5jb25jYXQocGxheWVyc1soc3RlcCAtIDEpICUgMl0sIFwiIHRpY2sgYXQgXCIpLmNvbmNhdChub3dUaWNraW5nLCBcIiBpbiBoaXMgdHVyblwiKSA6IFwiVGhlIGdhbWUgaXNuJ3Qgc3RhcnQgeWV0XCI7XG4gIH07XG5cbiAgdmFyIGp1bXBUbyA9IGZ1bmN0aW9uIGp1bXBUbyhpKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBoaXN0b3J5W2ldO1xuICAgIHZhciBzcXVhcmVzID0gY3VycmVudC5zcXVhcmVzLnNsaWNlKCk7XG4gICAgdmFyIGlzV2luID0gY2FsY3VsYXRlV2lubmVyKHNxdWFyZXMpO1xuICAgIHNldE5vd1BsYXlpbmcocGxheWVyc1tpICUgMl0pO1xuICAgIHNldFdpbm5pbmcoaXNXaW4pO1xuICAgIHNldE5vd1RpY2tpbmcoY3VycmVudC5zdGF0dXMpO1xuICAgIHNldFN0ZXAoaSk7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBjb250YWluZXI6IHRydWUsXG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogOCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMucm9vdFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogOCxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYm9hcmRcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQm9hcmRWaWV3LCB7XG4gICAgc3F1YXJlczogaGlzdG9yeVtzdGVwXS5zcXVhcmVzLFxuICAgIHNpemU6IHNpemUsXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGksIGopIHtcbiAgICAgIHJldHVybiBfaGFuZGxlQ2xpY2soaSwgaik7XG4gICAgfSxcbiAgICB3aW5uaW5nOiB3aW5uaW5nXG4gIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGl0ZW06IHRydWUsXG4gICAgeHM6IDQsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnN0YXR1c1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgdmFyaWFudDogXCJoNlwiLFxuICAgIGNvbG9yOiBcImluaXRpYWxcIlxuICB9LCBcIlR1cm46IFwiLCBnZXRHYW1lU3RhdHVzKCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgdmFyaWFudDogXCJoNlwiLFxuICAgIGNvbG9yOiBcImluaXRpYWxcIlxuICB9LCBcIlg6IFBsYXllciAxXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgdmFyaWFudDogXCJoNlwiLFxuICAgIGNvbG9yOiBcImluaXRpYWxcIlxuICB9LCBcIk86IFBsYXllciAyXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInN0YXR1c1wiXG4gIH0sIGdldEdhbWVTdGF0dXMoKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZ2FtZS1pbmZvXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgc3RhdHVzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvbFwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBzZXRTb3J0KCFzb3J0KTtcbiAgICB9XG4gIH0sIHNvcnQgPyAnRGVzY2VuZGluZyBvcmRlcicgOiAnQXNjZW5kaW5nIG9yZGVyJyksIGFsbE1vdmVCdXR0b24oKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB2YXJpYW50OiBcImNvbnRhaW5lZFwiLFxuICAgIGNvbG9yOiBcInNlY29uZGFyeVwiLFxuICAgIHNpemU6IFwic21hbGxcIlxuICB9LCBcIkxlYXZlIFJvb21cIikpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJvYXJkOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdyaWQsIG1ha2VTdHlsZXMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmVcIjtcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKHtcbiAgcm9vdDoge1xuICAgIHBhZGRpbmc6IFwiNXB4IDEwcHhcIlxuICB9LFxuICBpbmZvOiB7fSxcbiAgY29udGVudDoge1xuICAgIGJvcmRlclJhZGl1czogMTIsXG4gICAgY29sb3I6IFwid2hpdGVcIixcbiAgICBwYWRkaW5nOiBcIjVweCAxMHB4XCIsXG4gICAgd2lkdGg6IFwiZml0LWNvbnRlbnRcIixcbiAgICBoZWlnaHQ6IFwiZml0LWNvbnRlbnRcIlxuICB9XG59KTtcblxudmFyIE1lc3NhZ2UgPSBmdW5jdGlvbiBNZXNzYWdlKHByb3BzKSB7XG4gIHZhciBpc015TWVzc2FnZSA9IHByb3BzLmlzTXlNZXNzYWdlLFxuICAgICAgbWVzc2FnZSA9IHByb3BzLm1lc3NhZ2U7XG4gIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5yb290LFxuICAgIGp1c3RpZnk6IGlzTXlNZXNzYWdlICYmIFwiZmxleC1lbmRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuY29udGVudCxcbiAgICBzdHlsZToge1xuICAgICAgYmFja2dyb3VuZDogXCJcIi5jb25jYXQoaXNNeU1lc3NhZ2UgPyBcIiMxZDRiY2RcIiA6IFwiIzcyNzI3MlwiKVxuICAgIH1cbiAgfSwgbWVzc2FnZSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWVzc2FnZTsiLCJleHBvcnQgdmFyIEFERF9NRVNTQUdFID0gXCJhZGRfbWVzc2FnZVwiOyIsImltcG9ydCB7IEFERF9NRVNTQUdFIH0gZnJvbSBcIi4vdHlwZVwiO1xuZXhwb3J0IHZhciBhZGRNZXNzYWdlID0gZnVuY3Rpb24gYWRkTWVzc2FnZShyb29tSUQsIG1lc3NhZ2UsIGlzT3duLCB0aW1lc3RhbXApIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBRERfTUVTU0FHRSxcbiAgICBwYXlsb2FkOiB7XG4gICAgICByb29tSUQ6IHJvb21JRCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBpc015TWVzc2FnZTogaXNPd25cbiAgICB9XG4gIH07XG59OyIsImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdyaWQsIG1ha2VTdHlsZXMsIEJ1dHRvbiwgVHlwb2dyYXBoeSB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZVwiO1xuaW1wb3J0IFNlbmRJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvU2VuZFwiO1xuaW1wb3J0IEZvcnVtSWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL0ZvcnVtXCI7XG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwiLi9tZXNzYWdlXCI7XG5pbXBvcnQgeyBhZGRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vYWN0aW9uL2NoYXQvYWN0aW9uJztcbmltcG9ydCBXU0NsaWVudCBmcm9tIFwiLi4vLi4vc29ja2V0L2NsaWVudFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKHtcbiAgcm9vdDoge1xuICAgIG1hcmdpbjogMTVcbiAgfSxcbiAgY29udGVudDoge1xuICAgIGJvcmRlcjogXCIxcHggc29saWQgYmxhY2tcIixcbiAgICBib3JkZXJSYWRpdXM6IFwiMTJweFwiLFxuICAgIGJhY2tncm91bmQ6IFwiI2QyZDJkMlwiLFxuICAgIGhlaWdodDogNDgwXG4gIH0sXG4gIHRpdGxlOiB7XG4gICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgZm9udFNpemU6IDE4XG4gIH0sXG4gIGlucHV0OiB7XG4gICAgcGFkZGluZzogNCxcbiAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNiYWJhYmFcIixcbiAgICBoZWlnaHQ6IDUwXG4gIH0sXG4gIGlucHV0QnRuOiB7XG4gICAgaGVpZ2h0OiAzMCxcbiAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGVkZWRlXCIsXG4gICAgZm9udFNpemU6IDE2XG4gIH0sXG4gIGJveDoge1xuICAgIGhlaWdodDogNDAwLFxuICAgIG1heEhlaWdodDogNDAwLFxuICAgIG92ZXJmbG93WTogXCJhdXRvXCJcbiAgfVxufSk7XG5cbnZhciBCb3hDaGF0ID0gZnVuY3Rpb24gQm94Q2hhdChwcm9wcykge1xuICB2YXIgY2hhdFJlZiA9IHVzZVJlZigpO1xuICB2YXIgYWxsTWVzc2FnZXMgPSBwcm9wcy5jaGF0W3Byb3BzLnJvb21JRF07XG4gIFdTQ2xpZW50LnN0YXJ0TGlzdGVuVXBkYXRlQ2hhdChwcm9wcy5hZGRNZXNzYWdlKTtcblxuICB2YXIgaGFuZGxlQ2hhdCA9IGZ1bmN0aW9uIGhhbmRsZUNoYXQoKSB7XG4gICAgdmFyIHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgdmFyIHRleHQgPSBjaGF0UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgV1NDbGllbnQuc2VuZE1lc3NhZ2Uoe1xuICAgICAgcm9vbUlEOiBwcm9wcy5yb29tSUQsXG4gICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXBcbiAgICB9KTtcbiAgICBwcm9wcy5hZGRNZXNzYWdlKHByb3BzLnJvb21JRCwgdGV4dCwgdHJ1ZSwgdGltZXN0YW1wKTtcbiAgfTtcblxuICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGl0ZW06IHRydWUsXG4gICAgY29udGFpbmVyOiB0cnVlLFxuICAgIHhzOiA0LFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5yb290XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIHhzOiAxMixcbiAgICBjb250YWluZXI6IHRydWUsXG4gICAgZGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50aXRsZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3J1bUljb24sIG51bGwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGl0ZW06IHRydWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwge1xuICAgIHZhcmlhbnQ6IFwiaDZcIlxuICB9LCBcIkJveCBDaGF0XCIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmNvbnRlbnQsXG4gICAgYWxpZ25JdGVtczogXCJmbGV4LWVuZFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIHhzOiAxMixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuYm94XG4gIH0sIGFsbE1lc3NhZ2VzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZXNzYWdlLCB7XG4gICAgICBpc015TWVzc2FnZTogaXRlbS5pc015TWVzc2FnZSxcbiAgICAgIG1lc3NhZ2U6IGl0ZW0ubWVzc2FnZVxuICAgIH0pO1xuICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBjb250YWluZXI6IHRydWUsXG4gICAgaXRlbTogdHJ1ZSxcbiAgICB4czogMTIsXG4gICAganVzdGlmeTogXCJmbGV4LWVuZFwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pbnB1dFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7XG4gICAgaXRlbTogdHJ1ZSxcbiAgICBzdHlsZToge1xuICAgICAgbWFyZ2luOiBcImF1dG8gMFwiXG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICBpZDogXCJtZXNzYWdlXCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmlucHV0QnRuLFxuICAgIHJlZjogY2hhdFJlZlxuICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHtcbiAgICBpdGVtOiB0cnVlLFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXJnaW46IFwiYXV0byA1cHhcIlxuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgc3RhcnRJY29uOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZW5kSWNvbiwgbnVsbCksXG4gICAgdmFyaWFudDogXCJjb250YWluZWRcIixcbiAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgbWFyZ2luOiBcIlwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNoYXRcbiAgfSwgXCJTZW5kXCIpKSkpKTtcbn07XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjaGF0OiBzdGF0ZS5jaGF0XG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0ge1xuICBhZGRNZXNzYWdlOiBhZGRNZXNzYWdlXG59O1xuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQm94Q2hhdCk7XG47IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR3JpZCwgQnV0dG9uLCBEaWFsb2csIERpYWxvZ0FjdGlvbnMsIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0NvbnRlbnRUZXh0LCBEaWFsb2dUaXRsZSwgbWFrZVN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZVwiO1xuaW1wb3J0IEJvYXJkIGZyb20gXCIuLi9ib2FyZFwiO1xuaW1wb3J0IEJveENoYXQgZnJvbSBcIi4uL2NoYXRcIjtcbmltcG9ydCBXU0NsaWVudCBmcm9tIFwiLi4vLi4vc29ja2V0L2NsaWVudFwiO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoe1xuICByb290OiB7XG4gICAgbWluV2lkdGg6IDM1MCxcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxuICB9LFxuICBhY3Rpb25zOiB7XG4gICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCJcbiAgfSxcbiAgaW5mb1BsYXllcjoge1xuICAgIGJvcmRlcjogXCIxcHggc29saWQgI2QyZDJkMlwiLFxuICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgbWFyZ2luOiBcImF1dG8gNXB4XCIsXG4gICAgcGFkZGluZzogMTAsXG4gICAgZm9udFNpemU6IDE4XG4gIH0sXG4gIGljb246IHtcbiAgICBtYXhIZWlnaHQ6IDUwLFxuICAgIG1hcmdpbjogNVxuICB9XG59KTtcblxudmFyIFJvb21WaWV3ID0gZnVuY3Rpb24gUm9vbVZpZXcocHJvcHMpIHtcbiAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMoKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUodHJ1ZSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIHN0YXJ0ID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFN0YXJ0ID0gX3VzZVN0YXRlMlsxXTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwge1xuICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICBkaXJlY3Rpb246IFwicm93XCIsXG4gICAganVzdGlmeTogXCJmbGV4LXN0YXJ0XCIsXG4gICAgYWxpZ25JdGVtczogXCJmbGV4LXN0YXJ0XCIsXG4gICAgYWxpZ25Db250ZW50OiBcInN0cmV0Y2hcIixcbiAgICB3cmFwOiBcIm5vd3JhcFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJvYXJkLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQm94Q2hhdCwgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZywge1xuICAgIG9wZW46ICFzdGFydCxcbiAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgcmV0dXJuIHNldFN0YXJ0KGZhbHNlKTtcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ0NvbnRlbnQsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMucm9vdFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmluZm9QbGF5ZXJcbiAgfSwgXCJQbGF5ZXIgMTpcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuaWNvblxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgaGVpZ2h0OiA1MCxcbiAgICB3aWR0aDogNTAsXG4gICAgc3JjOiBcImh0dHBzOi8vcHJldmlld3MuMTIzcmYuY29tL2ltYWdlcy92ZWN0b3JwbHVzYi92ZWN0b3JwbHVzYjE5MDcvdmVjdG9ycGx1c2IxOTA3MDAwMDYvMTI3MDI5MTY5LXZzLWxldHRlcnMtb3ItdmVyc3VzLXZlY3Rvci1zaWduLWlzb2xhdGVkLW9uLXRyYW5zcGFyZW50LWJhY2tncm91bmQtLmpwZ1wiXG4gIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pbmZvUGxheWVyXG4gIH0sIFwiUGxheWVyIDI6XCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9ucywge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25zXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gc2V0U3RhcnQodHJ1ZSk7XG4gICAgfSxcbiAgICBzaXplOiBcImxhcmdlXCIsXG4gICAgdmFyaWFudDogXCJjb250YWluZWRcIixcbiAgICBjb2xvcjogXCJwcmltYXJ5XCJcbiAgfSwgXCJTdGFydFwiKSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvb21WaWV3OyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJvdXRlLCBSZWRpcmVjdCwgU3dpdGNoIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBTdGFydFBhZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvc3RhcnRpbmcvU3RhcnRpbmdUZW1wbGF0ZVwiO1xuaW1wb3J0IExvYWRpbmdMb2dpbiBmcm9tIFwiLi4vY29tcG9uZW50cy9zdGFydGluZy9Mb2dpbldpdGhUaGlyZFBhcnR5XCI7XG5pbXBvcnQgQWRtaW5Mb2dpblBhbmVsIGZyb20gXCIuLi9jb21wb25lbnRzL3N0YXJ0aW5nL0FkbWluTG9naW5QYW5lbFwiO1xuaW1wb3J0IENvcHlyaWdodCBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21tb24vQ29weXJpZ2h0XCI7XG5pbXBvcnQgTm90Rm91bmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tbW9uLzQwNFwiO1xuaW1wb3J0IE1haW5QYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL01haW5QYWdlXCI7XG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL2xheW91dC9IZWFkZXJcIjtcbmltcG9ydCBSb29tVmlldyBmcm9tIFwiLi4vY29tcG9uZW50cy9yb29tL1Jvb21WaWV3XCI7XG5cbnZhciBQcml2YXRlUm91dGVzID0gZnVuY3Rpb24gUHJpdmF0ZVJvdXRlcyhwcm9wcykge1xuICBpZiAocHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgICAgcGF0aDogXCIvXCIsXG4gICAgICBjb21wb25lbnQ6IE1haW5QYWdlLFxuICAgICAgZXhhY3Q6IHRydWVcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICAgIHBhdGg6IFwiL3Jvb20vOmlkXCIsXG4gICAgICBjb21wb25lbnQ6IFJvb21WaWV3XG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgICBwYXRoOiBcIi80MDRcIixcbiAgICAgIGNvbXBvbmVudDogTm90Rm91bmRcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHtcbiAgICAgIHRvOiBcIi80MDRcIlxuICAgIH0pKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgY29tcG9uZW50OiBTdGFydFBhZ2UsXG4gICAgICBleGFjdDogdHJ1ZVxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgICAgcGF0aDogXCIvYWRtaW5cIixcbiAgICAgIGNvbXBvbmVudDogQWRtaW5Mb2dpblBhbmVsXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgICBwYXRoOiBcIi9hdXRoL2dvb2dsZVwiLFxuICAgICAgY29tcG9uZW50OiBMb2FkaW5nTG9naW5cbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICAgIHBhdGg6IFwiL2F1dGgvZmFjZWJvb2tcIixcbiAgICAgIGNvbXBvbmVudDogTG9hZGluZ0xvZ2luXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgICBwYXRoOiBcIi80MDRcIixcbiAgICAgIGNvbXBvbmVudDogTm90Rm91bmRcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHtcbiAgICAgIHRvOiBcIi80MDRcIlxuICAgIH0pKTtcbiAgfVxufTtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGlzQXV0aGVudGljYXRlZDogISFzdGF0ZS5hdXRoLnRva2VuXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoUHJpdmF0ZVJvdXRlcyk7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IHsgTE9HSU4sIExPR09VVCwgSk9JTiB9IGZyb20gJy4uL2FjdGlvbi9hdXRoL3R5cGUnO1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIExPR0lOOlxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGFjdGlvbi5wYXlsb2FkKTtcblxuICAgIGNhc2UgSk9JTjpcbiAgICAgIHN0YXRlLmluUm9vbSA9IHRydWU7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpO1xuXG4gICAgY2FzZSBMT0dPVVQ6XG4gICAgICByZXR1cm4ge307XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59KTsiLCJpbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgeyBBRERfUk9PTSwgUkVNT1ZFX1JPT00sIEFERF9QTEFZRVIgfSBmcm9tICcuLi9hY3Rpb24vcm9vbS90eXBlJztcbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBRERfUk9PTTpcbiAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlKSwgW2FjdGlvbi5wYXlsb2FkXSk7XG5cbiAgICBjYXNlIFJFTU9WRV9ST09NOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gIShpdGVtLmlkID09PSBhY3Rpb24ucGF5bG9hZC5pZCk7XG4gICAgICB9KTtcblxuICAgIGNhc2UgQUREX1BMQVlFUjpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi5wYXlsb2FkLmlkICYmIGl0ZW0ucGxheWVycyA8IDIpIHtcbiAgICAgICAgICBpdGVtLnBsYXllcnMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW0ucGxheWVycyksIFthY3Rpb24ucGF5bG9hZC5wbGF5ZXJJRF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0pOyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCB7IEFERF9NRVNTQUdFIH0gZnJvbSBcIi4uL2FjdGlvbi9jaGF0L3R5cGVcIjtcbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBRERfTUVTU0FHRTpcbiAgICAgIHZhciBfYWN0aW9uJHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgICByb29tSUQgPSBfYWN0aW9uJHBheWxvYWQucm9vbUlELFxuICAgICAgICAgIG1lc3NhZ2UgPSBfYWN0aW9uJHBheWxvYWQubWVzc2FnZSxcbiAgICAgICAgICB0aW1lc3RhbXAgPSBfYWN0aW9uJHBheWxvYWQudGltZXN0YW1wLFxuICAgICAgICAgIGlzTXlNZXNzYWdlID0gX2FjdGlvbiRwYXlsb2FkLmlzTXlNZXNzYWdlO1xuICAgICAgaWYgKCFzdGF0ZVtyb29tSURdKSBzdGF0ZVtyb29tSURdID0gW3tcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgIGlzTXlNZXNzYWdlOiBpc015TWVzc2FnZVxuICAgICAgfV07ZWxzZSBzdGF0ZVtyb29tSURdLnB1c2goW3tcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgIGlzTXlNZXNzYWdlOiBpc015TWVzc2FnZVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzLCBjcmVhdGVTdG9yZSwgYXBwbHlNaWRkbGV3YXJlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHRodW5rIGZyb20gJ3JlZHV4LXRodW5rJztcbmltcG9ydCBhdXRoUmVkdWNlciBmcm9tICcuLi9yZWR1Y2VyL2F1dGhSZWR1Y2VyJztcbmltcG9ydCByb29tUmVkdWNlciBmcm9tICcuLi9yZWR1Y2VyL3Jvb21SZWR1Y2VyJztcbmltcG9ydCBjaGF0UmVkdWNlciBmcm9tICcuLi9yZWR1Y2VyL2NoYXRSZWR1Y2VyJztcbmltcG9ydCB7IHBlcnNpc3RTdG9yZSwgcGVyc2lzdFJlZHVjZXIgfSBmcm9tICdyZWR1eC1wZXJzaXN0JztcbmltcG9ydCBsb2NhbEZvcmFnZSBmcm9tICdsb2NhbGZvcmFnZSc7XG5cbnZhciBfY3JlYXRlVVVJRCA9IGZ1bmN0aW9uIF9jcmVhdGVVVUlEKCkge1xuICB2YXIgZ3VpZCA9ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsXG4gICAgICAgIHYgPSBjID09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG4gIHJldHVybiBndWlkO1xufTsgLy9tYXAgcmVkdWNlciAtPiBzdG9yZVxuXG5cbnZhciByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIGF1dGg6IGF1dGhSZWR1Y2VyLFxuICByb29tOiByb29tUmVkdWNlcixcbiAgY2hhdDogY2hhdFJlZHVjZXJcbn0pO1xudmFyIGxvY2FsREIgPSBsb2NhbEZvcmFnZS5jcmVhdGVJbnN0YW5jZSh7XG4gIG5hbWU6IFwiUlZOLWRhdGFcIlxufSk7XG52YXIgcGVyc2lzdENvbmZpZyA9IHtcbiAga2V5OiAncm9vdCcsXG4gIHdoaXRlbGlzdDogW10sXG4gIGJsYWNrbGlzdDogWydhdXRoJywgJ3Jvb20nLCAnY2hhdCddLFxuICBzdG9yYWdlOiBsb2NhbERCXG59O1xudmFyIHBlcnNpc3RlZFJlZHVjZXIgPSBwZXJzaXN0UmVkdWNlcihwZXJzaXN0Q29uZmlnLCByb290UmVkdWNlcik7IC8vVOG6oW8gc3RvcmUgKyBnw6FuIGxpc3RlbmVyIGNobyBt4buXaSBs4bqnbiB0aGF5IMSR4buVaSBzdG9yZSAtPiBnaGkgdsOgbyBqc29uXG5cbnZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHBlcnNpc3RlZFJlZHVjZXIsIHt9LCBhcHBseU1pZGRsZXdhcmUodGh1bmspKTtcbnZhciBwZXJzaXN0b3IgPSBwZXJzaXN0U3RvcmUoc3RvcmUpO1xuZXhwb3J0IHsgc3RvcmUsIHBlcnNpc3RvciB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgUHJpdmF0ZVJvdXRlcyBmcm9tICcuL1ByaXZhdGVSb3V0ZXMnO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBzdG9yZSwgcGVyc2lzdG9yIH0gZnJvbSAnLi4vc3RvcmUvc3RvcmUnO1xuaW1wb3J0IHsgUGVyc2lzdEdhdGUgfSBmcm9tICdyZWR1eC1wZXJzaXN0L2ludGVncmF0aW9uL3JlYWN0JztcblxudmFyIFJvdXRlciA9IGZ1bmN0aW9uIFJvdXRlcigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7XG4gICAgc3RvcmU6IHN0b3JlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBlcnNpc3RHYXRlLCB7XG4gICAgbG9hZGluZzogbnVsbCxcbiAgICBwZXJzaXN0b3I6IHBlcnNpc3RvclxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCcm93c2VyUm91dGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQcml2YXRlUm91dGVzLCBudWxsKSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgJy4vc3R5bGVzL3N0eWxlcy5jc3MnO1xuaW1wb3J0IFJvdXRlciBmcm9tICcuL3JvdXRlcy9yb3V0ZXMnO1xuUmVhY3RET00ucmVuZGVyKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXIsIG51bGwpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FDcktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQzlJQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ3pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQzFFQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDbktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///WJG9\n')},ettg:function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__("JPst");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "body {\\r\\n  font: 14px \\"Century Gothic\\", Futura, sans-serif;\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\nol,\\r\\nul {\\r\\n  padding-left: 30px;\\r\\n}\\r\\n\\r\\n.board-row:after {\\r\\n  clear: both;\\r\\n  content: \\"\\";\\r\\n  display: table;\\r\\n}\\r\\n\\r\\n.status {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.square {\\r\\n  background: #fff;\\r\\n  border: 1px solid #999;\\r\\n  float: left;\\r\\n  font-size: 24px;\\r\\n  font-weight: bold;\\r\\n  line-height: 34px;\\r\\n  height: 34px;\\r\\n  margin-right: -1px;\\r\\n  margin-top: -1px;\\r\\n  padding: 0;\\r\\n  text-align: center;\\r\\n  width: 34px;\\r\\n}\\r\\n.square-winning {\\r\\n  border: 3px solid red;\\r\\n}\\r\\n\\r\\n.square:focus {\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n.kbd-navigation .square:focus {\\r\\n  background: #ddd;\\r\\n}\\r\\n\\r\\n.game {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n}\\r\\n\\r\\n.game-info {\\r\\n  margin-left: 20px;\\r\\n}\\r\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXR0Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NsaWVudC9zdHlsZXMvc3R5bGVzLmNzcz83YWRiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXHJcXG4gIGZvbnQ6IDE0cHggXFxcIkNlbnR1cnkgR290aGljXFxcIiwgRnV0dXJhLCBzYW5zLXNlcmlmO1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbn1cXHJcXG5cXHJcXG5vbCxcXHJcXG51bCB7XFxyXFxuICBwYWRkaW5nLWxlZnQ6IDMwcHg7XFxyXFxufVxcclxcblxcclxcbi5ib2FyZC1yb3c6YWZ0ZXIge1xcclxcbiAgY2xlYXI6IGJvdGg7XFxyXFxuICBjb250ZW50OiBcXFwiXFxcIjtcXHJcXG4gIGRpc3BsYXk6IHRhYmxlO1xcclxcbn1cXHJcXG5cXHJcXG4uc3RhdHVzIHtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxyXFxufVxcclxcblxcclxcbi5zcXVhcmUge1xcclxcbiAgYmFja2dyb3VuZDogI2ZmZjtcXHJcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XFxyXFxuICBmbG9hdDogbGVmdDtcXHJcXG4gIGZvbnQtc2l6ZTogMjRweDtcXHJcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcclxcbiAgbGluZS1oZWlnaHQ6IDM0cHg7XFxyXFxuICBoZWlnaHQ6IDM0cHg7XFxyXFxuICBtYXJnaW4tcmlnaHQ6IC0xcHg7XFxyXFxuICBtYXJnaW4tdG9wOiAtMXB4O1xcclxcbiAgcGFkZGluZzogMDtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gIHdpZHRoOiAzNHB4O1xcclxcbn1cXHJcXG4uc3F1YXJlLXdpbm5pbmcge1xcclxcbiAgYm9yZGVyOiAzcHggc29saWQgcmVkO1xcclxcbn1cXHJcXG5cXHJcXG4uc3F1YXJlOmZvY3VzIHtcXHJcXG4gIG91dGxpbmU6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5rYmQtbmF2aWdhdGlvbiAuc3F1YXJlOmZvY3VzIHtcXHJcXG4gIGJhY2tncm91bmQ6ICNkZGQ7XFxyXFxufVxcclxcblxcclxcbi5nYW1lIHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FtZS1pbmZvIHtcXHJcXG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xcclxcbn1cXHJcXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///ettg\n')}},[["WJG9",13,6,1,9,3,11,12,10,8,2,4,5,7,14]]]);